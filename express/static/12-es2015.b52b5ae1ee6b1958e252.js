(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{X2PA:function(e,t,c){"use strict";c.r(t),c.d(t,"VappModule",(function(){return ee}));var i=c("pk6O"),n=c("tyNb"),r=c("fXoL");let l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Gb({type:e,selectors:[["tide-vapp"]],decls:2,vars:0,consts:[[1,"content-area"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Nb(1,"router-outlet"),r.Rb())},directives:[n.g],styles:[""]}),e})();var o=c("mrSG"),s=c("lJxs"),b=c("AytR"),a=c("xP43"),d=c("5hqZ"),p=c("tk/3"),u=c("XNvx");let v=(()=>{class e{constructor(e,t){this.http=e,this.loginService=t,this.prefix=b.a.apiPrefix+"/computeResource"}getList(){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.http.get(b.a.apiPrefix+a.x,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise(),t=[];for(const c of e)t.push({id:c.id,name:c.name,vendor:c.vendor,template:c.template,datacenter:c.datacenter,ipaddress:c.ipaddress,status:c.status,poweredOn:c.poweredOn});return t}))}getVMList(e){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.http.get(b.a.apiPrefix+"/"+a.y+"/"+a.C+"/"+e,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise(),c=[];for(const e of t)c.push({id:e.id,name:e.name,vcpu:e.vcpu,vmem:e.vmem,disk:e.disk,IPAddress:e.IPAddress,externalIPAddress:e.externalIPAddress,username:e.username,password:e.password,usedMoney:e.usedMoney,status:e.status});return c}))}getVendorList(){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.http.get(b.a.apiPrefix+a.A,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise(),t={};for(let c of e)t[c.name]=c.url;return t}))}getTemplateList(){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.http.get(b.a.apiPrefix+a.t,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise(),t={};for(let c of e)t[c.name]=c.id;return t}))}getResourceList(){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.http.get(b.a.apiPrefix+a.z,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise(),t=[];for(const i of e){const e=yield this.http.get(`${b.a.apiPrefix}/usage/${i.id}`,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise(),c={id:i.id,vcdId:i.vcdId,name:e.name,organization:i.organization,vendor:i.vendor,cpu:e.totalCPU/1e3,mem:e.totalRAM/1024,disk:e.totalDisk/1024,resType:i.resType,usage:{"cpu%":Object(d.a)(100*e.percentCPU,2),"mem%":Object(d.a)(100*e.percentRAM,2),"disk%":Object(d.a)(100*e.percentDisk,2)}};t.push(c)}const c={};for(let i of t)c[i.name]=i.name;return c}))}getPortList(e){return Object(o.a)(this,void 0,void 0,(function*(){return yield this.http.get(b.a.apiPrefix+"/"+a.C+"/"+a.h+"/"+e,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise()}))}addItem(e){const t=Object.assign({},e);return this.http.post(b.a.apiPrefix+a.x,t,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise().then(()=>Promise.resolve(),e=>Promise.reject(`HTTP ${e.status}: ${e.error.message}`))}editItem(e,t){return this.http.put(`${this.prefix}/${e}`,t).pipe(Object(s.a)(h))}removeItem(e){return Object(o.a)(this,void 0,void 0,(function*(){yield this.http.delete(b.a.apiPrefix+a.x+"/"+e,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise().then(()=>Promise.resolve(),e=>Promise.reject(""+e.message))}))}contributeResource(e){return Object(o.a)(this,void 0,void 0,(function*(){let t=null;return yield this.http.put(b.a.apiPrefix+"/resource/contribute/"+e,null,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise().then(e=>(t=e,Promise.resolve()),e=>Promise.reject(""+e.message)),t}))}activateResource(e){return Object(o.a)(this,void 0,void 0,(function*(){let t=null;return yield this.http.put(b.a.apiPrefix+"/resource/activate/"+e,null,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise().then(e=>(t=e,Promise.resolve()),e=>Promise.reject(""+e.message)),t}))}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(p.a),r.Wb(u.a))},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac}),e})();function h(e){return e}var f=c("Te2O"),m=c("LRne"),g=c("sYmb");const S=function(){return{}};function R(e,t){if(1&e){const e=r.Tb();r.Sb(0,"clr-dg-row",7),r.Sb(1,"clr-dg-action-overflow"),r.Sb(2,"button",8),r.ac("click",(function(){r.sc(e);const c=t.$implicit;return r.dc(2).delete(null==c?null:c.id)})),r.Bc(3),r.ec(4,"translate"),r.Rb(),r.Sb(5,"button",8),r.ac("click",(function(){r.sc(e);const c=t.$implicit;return r.dc(2).displayVM(null==c?null:c.id)})),r.Bc(6,"DISPLAY VM"),r.Rb(),r.Rb(),r.Sb(7,"clr-dg-cell"),r.Sb(8,"div",9),r.Bc(9),r.Rb(),r.Rb(),r.Sb(10,"clr-dg-cell"),r.Sb(11,"div",9),r.Bc(12),r.Rb(),r.Rb(),r.Sb(13,"clr-dg-cell"),r.Sb(14,"div",9),r.Bc(15),r.Rb(),r.Rb(),r.Sb(16,"clr-dg-cell"),r.Sb(17,"div",9),r.Bc(18),r.Rb(),r.Rb(),r.Sb(19,"clr-dg-cell"),r.Sb(20,"div",9),r.Bc(21),r.Rb(),r.Rb(),r.Sb(22,"clr-dg-cell"),r.Sb(23,"div",9),r.Bc(24),r.Rb(),r.Rb(),r.Sb(25,"clr-dg-cell"),r.Sb(26,"div",9),r.Bc(27),r.Rb(),r.Rb(),r.Sb(28,"clr-dg-cell"),r.Sb(29,"div",9),r.Bc(30),r.Rb(),r.Rb(),r.Rb()}if(2&e){const e=t.$implicit;r.jc("clrDgItem",e),r.Ab(3),r.Cc(r.gc(4,10,"HOME.RESOURCE.CARD.FOOTER.DELETE",r.mc(13,S))),r.Ab(6),r.Cc(null==e?null:e.id),r.Ab(3),r.Cc(null==e?null:e.name),r.Ab(3),r.Cc(null==e?null:e.vendor),r.Ab(3),r.Cc(null==e?null:e.datacenter),r.Ab(3),r.Cc(null==e?null:e.template),r.Ab(3),r.Cc(null==e?null:e.ipaddress),r.Ab(3),r.Cc(null==e?null:e.poweredOn),r.Ab(3),r.Cc(null==e?null:e.status)}}function O(e,t){if(1&e&&(r.Sb(0,"div"),r.Sb(1,"clr-datagrid"),r.Sb(2,"clr-dg-column"),r.Sb(3,"div",5),r.Bc(4,"ID"),r.Rb(),r.Rb(),r.Sb(5,"clr-dg-column"),r.Sb(6,"div",5),r.Bc(7,"Vapp Name"),r.Rb(),r.Rb(),r.Sb(8,"clr-dg-column"),r.Sb(9,"div",5),r.Bc(10,"Vendor"),r.Rb(),r.Rb(),r.Sb(11,"clr-dg-column"),r.Sb(12,"div",5),r.Bc(13,"Datacenter"),r.Rb(),r.Rb(),r.Sb(14,"clr-dg-column"),r.Sb(15,"div",5),r.Bc(16,"Template"),r.Rb(),r.Rb(),r.Sb(17,"clr-dg-column"),r.Sb(18,"div",5),r.Bc(19,"IP Address"),r.Rb(),r.Rb(),r.Sb(20,"clr-dg-column"),r.Sb(21,"div",5),r.Bc(22,"Powered On"),r.Rb(),r.Rb(),r.Sb(23,"clr-dg-column"),r.Sb(24,"div",5),r.Bc(25,"Status"),r.Rb(),r.Rb(),r.zc(26,R,31,14,"clr-dg-row",6),r.Rb(),r.Rb()),2&e){const e=t.ngIf;r.Ab(26),r.jc("clrDgItemsOf",e)}}function A(e,t){if(1&e){const e=r.Tb();r.Sb(0,"tide-vapp-dialog",10),r.ac("save",(function(){return r.sc(e),r.dc().save()}))("cancel",(function(){return r.sc(e),r.dc().cancel()})),r.Rb()}if(2&e){const e=r.dc();r.jc("opened",e.opened)}}function y(e,t){if(1&e){const e=r.Tb();r.Sb(0,"tide-vm-card",11),r.ac("save",(function(){return r.sc(e),r.dc().save()}))("cancel",(function(){return r.sc(e),r.dc().cancel()})),r.Rb()}if(2&e){const e=r.dc();r.jc("opened",e.displayOpened)("vappid",e.VappID)}}let I=(()=>{class e{constructor(e,t,c){this.vappService=e,this.translate=t,this.loginService=c,this.vo={alertType:"",alertText:""},this.VMlist$=Object(m.a)([]),this.Portlist$=Object(m.a)([]),this.VappID=1,this.resourceList={},this.vendorList={},this.templateList={},this.list$=Object(m.a)([]),this.opened=!1,this.displayOpened=!1}delete(e){return Object(o.a)(this,void 0,void 0,(function*(){yield this.vappService.removeItem(e).then(()=>{this.vo.alertText="Successfully delete vapp with id "+e,this.vo.alertType="success"},e=>{this.vo.alertType="danger",this.vo.alertText=e}).then(()=>{this.resetAlert()}),this.refreshList()}))}resetAlert(e){return Object(o.a)(this,void 0,void 0,(function*(){window.setTimeout(()=>{this.vo.alertText=""},e||f.b)}))}save(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.refreshList()}))}cancel(){this.opened=!1,this.displayOpened=!1}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.refreshList()}))}displayVM(e){return Object(o.a)(this,void 0,void 0,(function*(){this.VappID=e,this.displayOpened=!0,this.VMlist$=Object(m.a)(yield this.vappService.getVMList(e))}))}refreshList(){return Object(o.a)(this,void 0,void 0,(function*(){this.list$=Object(m.a)(yield this.vappService.getList()),this.refreshInterval=window.setInterval(()=>Object(o.a)(this,void 0,void 0,(function*(){this.list$=Object(m.a)(yield this.vappService.getList())})),f.e),this.vendorList=Object(yield this.vappService.getVendorList()),this.resourceList=Object(yield this.vappService.getResourceList()),this.templateList=Object(yield this.vappService.getTemplateList())}))}ngOnDestroy(){window.clearInterval(this.refreshInterval)}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(v),r.Mb(g.e),r.Mb(u.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["tide-vapp-list"]],decls:7,vars:5,consts:[[1,"btn","btn-primary",3,"click"],["shape","plus"],[4,"ngIf"],[3,"opened","save","cancel",4,"ngIf"],[3,"opened","vappid","save","cancel",4,"ngIf"],[1,"key"],[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[3,"clrDgItem"],[1,"btn","btn-sm","btn-link",3,"click"],[1,"value"],[3,"opened","save","cancel"],[3,"opened","vappid","save","cancel"]],template:function(e,t){1&e&&(r.Sb(0,"button",0),r.ac("click",(function(){return t.opened=!0})),r.Nb(1,"clr-icon",1),r.Bc(2," Add Vapp "),r.Rb(),r.zc(3,O,27,1,"div",2),r.ec(4,"async"),r.zc(5,A,1,1,"tide-vapp-dialog",3),r.zc(6,y,1,2,"tide-vm-card",4)),2&e&&(r.Ab(3),r.jc("ngIf",r.fc(4,3,t.list$)),r.Ab(2),r.jc("ngIf",t.opened),r.Ab(1),r.jc("ngIf",t.displayOpened))},styles:[""]}),e})();var j=c("3Pt+"),M=c("8MG2"),B=c("ofXK");function C(e,t){if(1&e&&(r.Sb(0,"clr-alert",19),r.Sb(1,"clr-alert-item"),r.Sb(2,"div",20),r.Sb(3,"span"),r.Bc(4),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e){const e=r.dc();r.jc("clrAlertClosable",!1),r.Ab(4),r.Cc(e.vo.serverError)}}function P(e,t){if(1&e&&(r.Sb(0,"option",21),r.Bc(1),r.Rb()),2&e){const e=t.$implicit;r.jc("ngValue",e),r.Ab(1),r.Dc(" ",e,"")}}function L(e,t){if(1&e&&(r.Sb(0,"option",21),r.Bc(1),r.Rb()),2&e){const e=t.$implicit,c=r.dc();r.jc("ngValue",c.template[e]),r.Ab(1),r.Dc(" ",e,"")}}function D(e,t){if(1&e&&(r.Sb(0,"option",21),r.Bc(1),r.Rb()),2&e){const e=t.$implicit;r.jc("ngValue",e),r.Ab(1),r.Dc(" ",e,"")}}const w=function(){return{}};function k(e,t){1&e&&(r.Sb(0,"span"),r.Bc(1),r.ec(2,"translate"),r.Rb()),2&e&&(r.Ab(1),r.Dc(" ",r.gc(2,1,"HOME.RESOURCE.DIALOG.SAVE",r.mc(4,w))," "))}function V(e,t){1&e&&(r.Sb(0,"span",22),r.Bc(1," Loading... "),r.Rb())}const E=function(){return{item:"type"}},z=function(){return{item:"name"}};let x=(()=>{class e{constructor(e,t,c,i){this.fb=e,this.translate=t,this.vappService=c,this.vappList=i,this.opened=!1,this.save=new r.n,this.cancel=new r.n,this.vo={serverError:"",spinning:!1},this.vappForm=this.fb.group({name:["",j.E.required],template:["",j.E.required],vendor:["",j.E.required],datacenter:["",j.E.required]}),this.vendorList=Object.keys(i.vendorList),this.vendor=i.vendorList,this.templateList=Object.keys(i.templateList),this.template=i.templateList,this.resourceList=Object.keys(i.resourceList)}ngOnInit(){}onCancel(){this.close()}onSave(){return Object(o.a)(this,void 0,void 0,(function*(){const{value:e}=this.vappForm;this.resetModal(),this.vo.spinning=!0,yield this.vappService.addItem(e).then(()=>{this.save.emit(""),this.close(),this.vo.spinning=!1},e=>{this.vo.serverError=e,this.vo.spinning=!1})}))}close(){this.cancel.emit()}resetModal(){this.vo.serverError="",this.vo.spinning=!1}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(j.f),r.Mb(g.e),r.Mb(v),r.Mb(I))},e.\u0275cmp=r.Gb({type:e,selectors:[["tide-vapp-dialog"]],inputs:{opened:"opened"},outputs:{save:"save",cancel:"cancel"},decls:41,vars:33,consts:[[3,"clrModalOpen","clrModalSize","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],["clrForm","",3,"formGroup"],["clrAlertType","danger",3,"clrAlertClosable",4,"ngIf"],["for","vendor"],["clrSelect","","id","vendor","formControlName","vendor",1,"clr-col-12","clr-col-md-8"],[3,"ngValue",4,"ngFor","ngForOf"],["for","template"],["clrSelect","","id","template","formControlName","template",1,"clr-col-12","clr-col-md-8"],["for","datacenter"],["clrSelect","","id","datacenter","formControlName","datacenter",1,"clr-col-12","clr-col-md-8"],["for","name"],["id","name","type","text","formControlName","name","clrInput","",1,"clr-col-12","clr-col-md-8",3,"placeholder"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],["class","spinner spinner-sm",4,"ngIf"],["clrAlertType","danger",3,"clrAlertClosable"],[1,"alert-text"],[3,"ngValue"],[1,"spinner","spinner-sm"]],template:function(e,t){1&e&&(r.Sb(0,"clr-modal",0),r.ac("clrModalOpenChange",(function(e){return t.opened=e})),r.Sb(1,"h3",1),r.Bc(2," Add vApp "),r.Rb(),r.Sb(3,"div",2),r.Sb(4,"form",3),r.zc(5,C,5,2,"clr-alert",4),r.Sb(6,"clr-select-container"),r.Sb(7,"label",5),r.Bc(8,"Vendor"),r.Rb(),r.Sb(9,"select",6),r.zc(10,P,2,2,"option",7),r.Rb(),r.Sb(11,"clr-control-error"),r.Bc(12),r.ec(13,"translate"),r.Rb(),r.Rb(),r.Sb(14,"clr-select-container"),r.Sb(15,"label",8),r.Bc(16,"Template"),r.Rb(),r.Sb(17,"select",9),r.zc(18,L,2,2,"option",7),r.Rb(),r.Sb(19,"clr-control-error"),r.Bc(20),r.ec(21,"translate"),r.Rb(),r.Rb(),r.Sb(22,"clr-select-container"),r.Sb(23,"label",10),r.Bc(24,"Datacenter"),r.Rb(),r.Sb(25,"select",11),r.zc(26,D,2,2,"option",7),r.Rb(),r.Sb(27,"clr-control-error"),r.Bc(28),r.ec(29,"translate"),r.Rb(),r.Rb(),r.Sb(30,"clr-input-container"),r.Sb(31,"label",12),r.Bc(32,"Name"),r.Rb(),r.Nb(33,"input",13),r.Rb(),r.Rb(),r.Rb(),r.Sb(34,"div",14),r.Sb(35,"button",15),r.ac("click",(function(){return t.onCancel()})),r.Bc(36),r.ec(37,"translate"),r.Rb(),r.Sb(38,"button",16),r.ac("click",(function(){return t.onSave()})),r.zc(39,k,3,5,"span",17),r.zc(40,V,2,0,"span",18),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.jc("clrModalOpen",t.opened)("clrModalSize","lg")("clrModalClosable",!1),r.Ab(4),r.jc("formGroup",t.vappForm),r.Ab(1),r.jc("ngIf",t.vo.serverError),r.Ab(5),r.jc("ngForOf",t.vendorList),r.Ab(2),r.Cc(r.gc(13,17,"HOME.RESOURCE.DIALOG.REQUIRED",r.mc(29,E))),r.Ab(6),r.jc("ngForOf",t.templateList),r.Ab(2),r.Cc(r.gc(21,20,"HOME.RESOURCE.DIALOG.REQUIRED",r.mc(30,E))),r.Ab(6),r.jc("ngForOf",t.resourceList),r.Ab(2),r.Cc(r.gc(29,23,"HOME.RESOURCE.DIALOG.REQUIRED",r.mc(31,z))),r.Ab(5),r.jc("placeholder","Vapp Name"),r.Ab(2),r.jc("disabled",t.vo.spinning),r.Ab(1),r.Dc(" ",r.gc(37,26,"HOME.RESOURCE.DIALOG.CANCEL",r.mc(32,w))," "),r.Ab(2),r.jc("disabled",!t.vappForm.valid||t.vo.spinning),r.Ab(1),r.jc("ngIf",!t.vo.spinning),r.Ab(1),r.jc("ngIf",t.vo.spinning))},directives:[M.yb,M.zb,j.G,j.r,M.ib,j.k,B.v,M.Ob,M.tb,j.C,M.Nb,j.q,j.i,B.u,M.t,M.sb,j.c,M.rb,M.g,M.h,M.i,j.v,j.F],pipes:[g.d],styles:[""]}),e})();function T(e,t){if(1&e){const e=r.Tb();r.Sb(0,"clr-dg-row",9),r.Sb(1,"clr-dg-action-overflow"),r.Sb(2,"button",10),r.ac("click",(function(){r.sc(e);const c=t.$implicit;return r.dc(2).displayPort(null==c?null:c.id)})),r.Bc(3," Display Ports "),r.Rb(),r.Rb(),r.Sb(4,"clr-dg-cell"),r.Sb(5,"div",11),r.Bc(6),r.Rb(),r.Rb(),r.Sb(7,"clr-dg-cell"),r.Sb(8,"div",11),r.Bc(9),r.Rb(),r.Rb(),r.Sb(10,"clr-dg-cell"),r.Sb(11,"div",11),r.Bc(12),r.Rb(),r.Rb(),r.Sb(13,"clr-dg-cell"),r.Sb(14,"div",11),r.Bc(15),r.Rb(),r.Rb(),r.Sb(16,"clr-dg-cell"),r.Sb(17,"div",11),r.Bc(18),r.Rb(),r.Rb(),r.Sb(19,"clr-dg-cell"),r.Sb(20,"div",11),r.Bc(21),r.Rb(),r.Rb(),r.Sb(22,"clr-dg-cell"),r.Sb(23,"div",11),r.Bc(24),r.Rb(),r.Rb(),r.Sb(25,"clr-dg-cell"),r.Sb(26,"div",11),r.Bc(27),r.Rb(),r.Rb(),r.Rb()}if(2&e){const e=t.$implicit;r.jc("clrDgItem",e),r.Ab(6),r.Cc(null==e?null:e.name),r.Ab(3),r.Dc("",null==e?null:e.vmem," GB"),r.Ab(3),r.Dc("",null==e?null:e.disk," GB"),r.Ab(3),r.Cc(null==e?null:e.vcpu),r.Ab(3),r.Cc(null==e?null:e.IPAddress),r.Ab(3),r.Cc(null==e?null:e.externalIPAddress),r.Ab(3),r.Cc(null==e?null:e.password),r.Ab(3),r.Cc(null==e?null:e.status)}}function G(e,t){if(1&e&&(r.Sb(0,"div"),r.Sb(1,"clr-datagrid"),r.Sb(2,"clr-dg-column"),r.Sb(3,"div",7),r.Bc(4,"VM Name"),r.Rb(),r.Rb(),r.Sb(5,"clr-dg-column"),r.Sb(6,"div",7),r.Bc(7,"Memory Size"),r.Rb(),r.Rb(),r.Sb(8,"clr-dg-column"),r.Sb(9,"div",7),r.Bc(10,"Storage Size"),r.Rb(),r.Rb(),r.Sb(11,"clr-dg-column"),r.Sb(12,"div",7),r.Bc(13,"CPUs"),r.Rb(),r.Rb(),r.Sb(14,"clr-dg-column"),r.Sb(15,"div",7),r.Bc(16,"Internal IP Address"),r.Rb(),r.Rb(),r.Sb(17,"clr-dg-column"),r.Sb(18,"div",7),r.Bc(19,"External IP Address"),r.Rb(),r.Rb(),r.Sb(20,"clr-dg-column"),r.Sb(21,"div",7),r.Bc(22,"Admin Password"),r.Rb(),r.Rb(),r.Sb(23,"clr-dg-column"),r.Sb(24,"div",7),r.Bc(25,"Status"),r.Rb(),r.Rb(),r.zc(26,T,28,9,"clr-dg-row",8),r.Rb(),r.Rb()),2&e){const e=t.ngIf;r.Ab(26),r.jc("clrDgItemsOf",e)}}function $(e,t){if(1&e){const e=r.Tb();r.Sb(0,"tide-ports-card",12),r.ac("cancel",(function(){return r.sc(e),r.dc().cancelPort()})),r.Rb()}if(2&e){const e=r.dc();r.jc("opened",e.PortOpened)("vmid",e.VMID)}}const N=function(){return{}};let F=(()=>{class e{constructor(e,t,c,i){this.fb=e,this.translate=t,this.vappService=c,this.VappList=i,this.vo={alertType:"",alertText:""},this.opened=!1,this.vappid=1,this.save=new r.n,this.cancel=new r.n,this.Portslist$=Object(m.a)([]),this.VMID=1,this.PortOpened=!1}resetAlert(e){return Object(o.a)(this,void 0,void 0,(function*(){window.setTimeout(()=>{this.vo.alertText=""},e||f.b)}))}refreshList(){return Object(o.a)(this,void 0,void 0,(function*(){this.VappList.VMlist$=Object(m.a)(yield this.vappService.getVMList(this.VappList.VappID)),this.refreshInterval=window.setInterval(()=>Object(o.a)(this,void 0,void 0,(function*(){this.VappList.VMlist$=Object(m.a)(yield this.vappService.getVMList(this.VappList.VappID))})),f.e)}))}ngOnDestroy(){window.clearInterval(this.refreshInterval)}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.refreshList()}))}cancelPort(){this.PortOpened=!1}onCancel(){this.close()}close(){this.cancel.emit()}displayPort(e){return Object(o.a)(this,void 0,void 0,(function*(){this.VMID=e,this.PortOpened=!0,this.Portslist$=Object(m.a)(yield this.vappService.getPortList(e))}))}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(j.f),r.Mb(g.e),r.Mb(v),r.Mb(I))},e.\u0275cmp=r.Gb({type:e,selectors:[["tide-vm-card"]],inputs:{opened:"opened",vappid:"vappid"},outputs:{save:"save",cancel:"cancel"},decls:11,vars:12,consts:[[3,"clrModalOpen","clrModalSize","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],[3,"opened","vmid","cancel",4,"ngIf"],[1,"key"],[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[3,"clrDgItem"],[1,"btn","btn-sm","btn-link",3,"click"],[1,"value"],[3,"opened","vmid","cancel"]],template:function(e,t){1&e&&(r.Sb(0,"clr-modal",0),r.ac("clrModalOpenChange",(function(e){return t.opened=e})),r.Sb(1,"h3",1),r.Bc(2," VM "),r.Rb(),r.Sb(3,"div",2),r.zc(4,G,27,1,"div",3),r.ec(5,"async"),r.Rb(),r.Sb(6,"div",4),r.Sb(7,"button",5),r.ac("click",(function(){return t.onCancel()})),r.Bc(8),r.ec(9,"translate"),r.Rb(),r.Rb(),r.Rb(),r.zc(10,$,1,2,"tide-ports-card",6)),2&e&&(r.jc("clrModalOpen",t.opened)("clrModalSize","lg")("clrModalClosable",!1),r.Ab(4),r.jc("ngIf",r.fc(5,6,t.VappList.VMlist$)),r.Ab(4),r.Dc(" ",r.gc(9,8,"HOME.RESOURCE.DIALOG.CANCEL",r.mc(11,N))," "),r.Ab(2),r.jc("ngIf",t.PortOpened))},styles:[""]}),e})();function U(e,t){if(1&e&&(r.Sb(0,"clr-dg-row",8),r.Sb(1,"clr-dg-cell"),r.Sb(2,"div",9),r.Bc(3),r.Rb(),r.Rb(),r.Sb(4,"clr-dg-cell"),r.Sb(5,"div",9),r.Bc(6),r.Rb(),r.Rb(),r.Rb()),2&e){const e=t.$implicit;r.jc("clrDgItem",e),r.Ab(3),r.Cc(null==e?null:e.port),r.Ab(3),r.Cc(null==e?null:e.url)}}function H(e,t){if(1&e&&(r.Sb(0,"div"),r.Sb(1,"clr-datagrid"),r.Sb(2,"clr-dg-column"),r.Sb(3,"div",6),r.Bc(4,"Port"),r.Rb(),r.Rb(),r.Sb(5,"clr-dg-column"),r.Sb(6,"div",6),r.Bc(7,"URL"),r.Rb(),r.Rb(),r.zc(8,U,7,3,"clr-dg-row",7),r.Rb(),r.Rb()),2&e){const e=t.ngIf;r.Ab(8),r.jc("clrDgItemsOf",e)}}const q=function(){return{}};let J=(()=>{class e{constructor(e,t,c,i,n){this.fb=e,this.translate=t,this.vappService=c,this.VappList=i,this.VMCard=n,this.vo={alertType:"",alertText:""},this.opened=!1,this.vmid=1,this.cancel=new r.n}resetAlert(e){return Object(o.a)(this,void 0,void 0,(function*(){window.setTimeout(()=>{this.vo.alertText=""},e||f.b)}))}refreshList(){return Object(o.a)(this,void 0,void 0,(function*(){this.VMCard.Portslist$=Object(m.a)(yield this.vappService.getPortList(this.VMCard.VMID)),this.refreshInterval=window.setInterval(()=>Object(o.a)(this,void 0,void 0,(function*(){this.VMCard.Portslist$=Object(m.a)(yield this.vappService.getPortList(this.VMCard.VMID))})),f.e)}))}ngOnDestroy(){window.clearInterval(this.refreshInterval)}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.refreshList()}))}onCancel(){this.close()}close(){this.cancel.emit()}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(j.f),r.Mb(g.e),r.Mb(v),r.Mb(I),r.Mb(F))},e.\u0275cmp=r.Gb({type:e,selectors:[["tide-ports-card"]],inputs:{opened:"opened",vmid:"vmid"},outputs:{cancel:"cancel"},decls:10,vars:11,consts:[[3,"clrModalOpen","clrModalSize","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],[1,"key"],[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[3,"clrDgItem"],[1,"value"]],template:function(e,t){1&e&&(r.Sb(0,"clr-modal",0),r.ac("clrModalOpenChange",(function(e){return t.opened=e})),r.Sb(1,"h3",1),r.Bc(2," VM "),r.Rb(),r.Sb(3,"div",2),r.zc(4,H,9,1,"div",3),r.ec(5,"async"),r.Rb(),r.Sb(6,"div",4),r.Sb(7,"button",5),r.ac("click",(function(){return t.onCancel()})),r.Bc(8),r.ec(9,"translate"),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.jc("clrModalOpen",t.opened)("clrModalSize","lg")("clrModalClosable",!1),r.Ab(4),r.jc("ngIf",r.fc(5,5,t.VMCard.Portslist$)),r.Ab(4),r.Dc(" ",r.gc(9,7,"HOME.RESOURCE.DIALOG.CANCEL",r.mc(10,q))," "))},directives:[M.yb,M.zb,B.v,M.v,M.Xc,M.bd,M.cd,M.dd,M.z,M.Yc,M.K,M.P,M.Zc,M.y,M.ad],pipes:[B.b,g.d],styles:[""]}),e})();const X=[{path:"",component:l,children:[{path:"",component:I}]}],K=[v];let Q=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},imports:[[n.f.forChild(X)],n.f]}),e})();var Y=c("30Bq"),W=c("Bgc3"),Z=c("oBHS"),_=c("gMiC");let ee=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},providers:[...K],imports:[[i.a,Q]]}),e})();r.uc(I,[B.s,B.t,B.u,B.v,B.C,B.y,B.z,B.A,B.B,B.w,B.x,n.g,n.c,n.e,n.d,n.h,j.G,j.v,j.F,j.c,j.w,j.z,j.a,j.C,j.D,j.y,j.q,j.r,j.B,j.o,j.n,j.x,j.b,j.d,j.t,j.u,j.s,j.h,j.k,j.i,j.l,j.e,M.g,M.h,M.j,M.k,M.i,M.v,M.w,M.x,M.z,M.A,M.B,M.J,M.H,M.K,M.L,M.P,M.Q,M.Tc,M.y,M.I,M.N,M.M,M.O,M.C,M.D,M.E,M.mb,M.G,M.F,M.Uc,M.Vc,M.Wc,M.Xc,M.Yc,M.Zc,M.ad,M.bd,M.cd,M.dd,M.Nc,M.Mc,M.Yb,M.Vb,M.Tb,M.Ub,M.Zb,M.Wb,M.Xb,M.sc,M.tc,M.Mb,M.uc,M.kb,M.yb,M.zb,M.hb,M.vb,M.lb,M.qb,M.pb,M.Sc,M.wb,M.l,M.m,M.tb,M.t,M.u,M.ob,M.ib,M.ub,M.s,M.r,M.o,M.p,M.q,M.X,M.U,M.V,M.W,M.Ab,M.Lc,M.Y,M.n,M.rb,M.sb,M.Cb,M.Db,M.Hb,M.Ib,M.Jb,M.Nb,M.Ob,M.ic,M.jc,M.Kb,M.Lb,M.R,M.T,M.S,M.xb,M.jb,M.Bb,M.Pc,M.Oc,M.ec,M.dc,M.hc,M.gc,M.fc,M.ed,M.fd,M.vc,M.zc,M.wc,M.xc,M.yc,M.cb,M.eb,M.fb,M.db,M.Pb,M.Qb,M.Rb,M.pc,M.rc,M.qc,M.Ac,M.Ec,M.Jc,M.Kc,M.Bc,M.Dc,M.Cc,M.Ic,M.Hc,M.Fc,M.Gc,M.ab,M.gb,M.nb,M.Z,M.bb,M.bc,M.ac,M.cc,M.id,M.jd,M.b,M.e,M.f,M.d,M.c,M.gd,M.hd,M.Sb,M.Gb,M.Eb,M.Qc,M.Rc,M.Fb,M.kc,M.lc,M.mc,M.nc,M.oc,Y.a,g.a,W.a,l,I,x,F,J],[B.b,B.J,B.r,B.m,B.G,B.g,B.E,B.H,B.d,B.f,B.k,B.l,B.n,g.d,Z.a,_.a]),r.uc(F,[B.s,B.t,B.u,B.v,B.C,B.y,B.z,B.A,B.B,B.w,B.x,n.g,n.c,n.e,n.d,n.h,j.G,j.v,j.F,j.c,j.w,j.z,j.a,j.C,j.D,j.y,j.q,j.r,j.B,j.o,j.n,j.x,j.b,j.d,j.t,j.u,j.s,j.h,j.k,j.i,j.l,j.e,M.g,M.h,M.j,M.k,M.i,M.v,M.w,M.x,M.z,M.A,M.B,M.J,M.H,M.K,M.L,M.P,M.Q,M.Tc,M.y,M.I,M.N,M.M,M.O,M.C,M.D,M.E,M.mb,M.G,M.F,M.Uc,M.Vc,M.Wc,M.Xc,M.Yc,M.Zc,M.ad,M.bd,M.cd,M.dd,M.Nc,M.Mc,M.Yb,M.Vb,M.Tb,M.Ub,M.Zb,M.Wb,M.Xb,M.sc,M.tc,M.Mb,M.uc,M.kb,M.yb,M.zb,M.hb,M.vb,M.lb,M.qb,M.pb,M.Sc,M.wb,M.l,M.m,M.tb,M.t,M.u,M.ob,M.ib,M.ub,M.s,M.r,M.o,M.p,M.q,M.X,M.U,M.V,M.W,M.Ab,M.Lc,M.Y,M.n,M.rb,M.sb,M.Cb,M.Db,M.Hb,M.Ib,M.Jb,M.Nb,M.Ob,M.ic,M.jc,M.Kb,M.Lb,M.R,M.T,M.S,M.xb,M.jb,M.Bb,M.Pc,M.Oc,M.ec,M.dc,M.hc,M.gc,M.fc,M.ed,M.fd,M.vc,M.zc,M.wc,M.xc,M.yc,M.cb,M.eb,M.fb,M.db,M.Pb,M.Qb,M.Rb,M.pc,M.rc,M.qc,M.Ac,M.Ec,M.Jc,M.Kc,M.Bc,M.Dc,M.Cc,M.Ic,M.Hc,M.Fc,M.Gc,M.ab,M.gb,M.nb,M.Z,M.bb,M.bc,M.ac,M.cc,M.id,M.jd,M.b,M.e,M.f,M.d,M.c,M.gd,M.hd,M.Sb,M.Gb,M.Eb,M.Qc,M.Rc,M.Fb,M.kc,M.lc,M.mc,M.nc,M.oc,Y.a,g.a,W.a,l,I,x,F,J],[B.b,B.J,B.r,B.m,B.G,B.g,B.E,B.H,B.d,B.f,B.k,B.l,B.n,g.d,Z.a,_.a]),r.uc(I,[B.s,B.t,B.u,B.v,B.C,B.y,B.z,B.A,B.B,B.w,B.x,n.g,n.c,n.e,n.d,n.h,j.G,j.v,j.F,j.c,j.w,j.z,j.a,j.C,j.D,j.y,j.q,j.r,j.B,j.o,j.n,j.x,j.b,j.d,j.t,j.u,j.s,j.h,j.k,j.i,j.l,j.e,M.g,M.h,M.j,M.k,M.i,M.v,M.w,M.x,M.z,M.A,M.B,M.J,M.H,M.K,M.L,M.P,M.Q,M.Tc,M.y,M.I,M.N,M.M,M.O,M.C,M.D,M.E,M.mb,M.G,M.F,M.Uc,M.Vc,M.Wc,M.Xc,M.Yc,M.Zc,M.ad,M.bd,M.cd,M.dd,M.Nc,M.Mc,M.Yb,M.Vb,M.Tb,M.Ub,M.Zb,M.Wb,M.Xb,M.sc,M.tc,M.Mb,M.uc,M.kb,M.yb,M.zb,M.hb,M.vb,M.lb,M.qb,M.pb,M.Sc,M.wb,M.l,M.m,M.tb,M.t,M.u,M.ob,M.ib,M.ub,M.s,M.r,M.o,M.p,M.q,M.X,M.U,M.V,M.W,M.Ab,M.Lc,M.Y,M.n,M.rb,M.sb,M.Cb,M.Db,M.Hb,M.Ib,M.Jb,M.Nb,M.Ob,M.ic,M.jc,M.Kb,M.Lb,M.R,M.T,M.S,M.xb,M.jb,M.Bb,M.Pc,M.Oc,M.ec,M.dc,M.hc,M.gc,M.fc,M.ed,M.fd,M.vc,M.zc,M.wc,M.xc,M.yc,M.cb,M.eb,M.fb,M.db,M.Pb,M.Qb,M.Rb,M.pc,M.rc,M.qc,M.Ac,M.Ec,M.Jc,M.Kc,M.Bc,M.Dc,M.Cc,M.Ic,M.Hc,M.Fc,M.Gc,M.ab,M.gb,M.nb,M.Z,M.bb,M.bc,M.ac,M.cc,M.id,M.jd,M.b,M.e,M.f,M.d,M.c,M.gd,M.hd,M.Sb,M.Gb,M.Eb,M.Qc,M.Rc,M.Fb,M.kc,M.lc,M.mc,M.nc,M.oc,Y.a,g.a,W.a,l,I,x,F,J],[B.b,B.J,B.r,B.m,B.G,B.g,B.E,B.H,B.d,B.f,B.k,B.l,B.n,g.d,Z.a,_.a])}}]);
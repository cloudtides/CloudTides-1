(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{PiXc:function(t,n,e){"use strict";e.r(n),e.d(n,"NotebooksModule",(function(){return W}));var o=e("pk6O"),c=e("tk/3"),i=e("AytR"),r=e("vkgz"),a=e("3Pt+"),l=e("Te2O"),s=e("fXoL"),g=e("tyNb"),p=e("6f/w");let b=(()=>{class t{constructor(t,n,e,o){this.http=t,this.router=n,this.fb=e,this.ws=o,this.createInstanceFlag=!1,this.modifiable=!0,this.appList=[],this.appLogs=[],this.currentToken="",this.currentModel="",this.loading=!0,this.url=i.a.apiIp?i.a.apiIp:"",this.wsUrl="ws://"+this.url+"/api/v1/ws/application/instance/",this.instanceForm=this.fb.group({instanceName:["",a.E.required],port:["",a.E.required],appType:[""],sshHost:[""]}),this.createInstanceTitle="HOME.NOTEBOOKS.Create"}getAppList(){return this.http.get(i.a.apiPrefix+"/application/instance",{headers:{Authorization:"Bearer "+localStorage.getItem(l.a.TOKEN)}}).pipe(Object(r.a)(t=>{}))}createNewApp(t){return this.http.post(i.a.apiPrefix+"/application/instance",t,{headers:{Authorization:"Bearer "+localStorage.getItem(l.a.TOKEN)}}).pipe(Object(r.a)(t=>{}))}modifyApp(t){return this.http.put(i.a.apiPrefix+"/application/instance",t,{headers:{Authorization:"Bearer "+localStorage.getItem(l.a.TOKEN)}}).pipe(Object(r.a)(t=>{}))}deleteApp(t){return this.http.delete(i.a.apiPrefix+"/application/instance/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem(l.a.TOKEN)}}).pipe(Object(r.a)(t=>{}))}getApplictionList(){this.appList=[],this.getAppList().subscribe(t=>{t.forEach(t=>{t.extra&&localStorage.setItem(t.token,t.extra.base64),this.appList.push(t)})})}getAppLogs(t){return this.currentToken=t,this.http.get(i.a.apiPrefix+"/application/instance/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem(l.a.TOKEN)}}).pipe(Object(r.a)(t=>{})).subscribe(n=>{this.appLogs=n,this.loading=!1,this.buildWS(t)})}buildWS(t){this.ws.connect(this.wsUrl+t),this.ws.flag=!0,this.unsub=this.ws.messageSubject.subscribe(t=>{this.appLogs.length>200&&this.appLogs.shift(),this.appLogs.push(t)})}closeWs(){this.ws.onClose(!1)}uploadData(t,n){const e=new FormData;e.append("name",t.name),e.append("file",t);const o=new c.e("POST",i.a.apiPrefix+"/application/instance/file/"+n,e,{reportProgress:!0});o.headers.set("Authorization","Bearer "+localStorage.getItem(l.a.TOKEN));const r=o.clone({headers:new c.d({Authorization:"Bearer "+localStorage.getItem(l.a.TOKEN)})});return console.log("newReq",r),this.http.request(r)}getFileList(t){return this.http.get(i.a.apiPrefix+"/application/instance/file/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem(l.a.TOKEN)}}).pipe(Object(r.a)(t=>{}))}getHostNameList(){return this.http.get(i.a.apiPrefix+"/application/instance/hosts",{headers:{Authorization:"Bearer "+localStorage.getItem(l.a.TOKEN)}}).pipe(Object(r.a)(t=>{}))}}return t.\u0275fac=function(n){return new(n||t)(s.Wb(c.a),s.Wb(g.b),s.Wb(a.f),s.Wb(p.a))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=e("8MG2"),u=e("ofXK"),O=e("sYmb");function C(t,n){if(1&t&&(s.Sb(0,"div",17),s.Sb(1,"div",18),s.Sb(2,"div",19),s.Sb(3,"div",20),s.Nb(4,"clr-icon",21),s.Rb(),s.Sb(5,"span",22),s.Bc(6),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t){const t=s.dc(2);s.Ab(6),s.Dc(" ",t.errorMsg," ")}}function m(t,n){if(1&t&&(s.Sb(0,"option",46),s.Bc(1),s.Rb()),2&t){const t=n.$implicit;s.jc("value",t.address),s.Ab(1),s.Cc(t.address)}}function h(t,n){if(1&t){const t=s.Tb();s.Sb(0,"form",23),s.ac("ngSubmit",(function(){s.sc(t);const n=s.dc(2);return n.create(n.jupyterInstanceForm)})),s.Sb(1,"div",24),s.Sb(2,"clr-input-container"),s.Sb(3,"label",25),s.Bc(4),s.ec(5,"translate"),s.Rb(),s.Nb(6,"input",26),s.Sb(7,"clr-control-error"),s.Bc(8),s.ec(9,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Nb(10,"div",27),s.Sb(11,"div",28),s.Sb(12,"p",29),s.Bc(13),s.ec(14,"translate"),s.Nb(15,"clr-icon",30),s.Rb(),s.Sb(16,"ul",31),s.Sb(17,"li"),s.Sb(18,"clr-input-container"),s.Sb(19,"label",32),s.Bc(20),s.ec(21,"translate"),s.Rb(),s.Nb(22,"input",33),s.Sb(23,"clr-control-error"),s.Bc(24),s.ec(25,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Sb(26,"li"),s.Sb(27,"label",34),s.Bc(28),s.ec(29,"translate"),s.Rb(),s.Sb(30,"div",35),s.Sb(31,"div",36),s.Sb(32,"select",37),s.zc(33,m,2,2,"option",38),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(34,"li"),s.Sb(35,"label",39),s.Bc(36),s.ec(37,"translate"),s.Rb(),s.Sb(38,"div",35),s.Sb(39,"div",36),s.Sb(40,"select",40),s.Sb(41,"option",41),s.Bc(42,"jupyter"),s.Rb(),s.Sb(43,"option",42),s.Bc(44,"gromacs"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(45,"div",43),s.Sb(46,"div"),s.Sb(47,"button",44),s.ac("click",(function(){return s.sc(t),s.dc(2).cancel()})),s.Bc(48),s.ec(49,"translate"),s.Rb(),s.Sb(50,"button",45),s.Bc(51),s.ec(52,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=s.dc(2);s.jc("formGroup",t.jupyterInstanceForm),s.Ab(4),s.Cc(s.fc(5,12,"HOME.APPLICATION.LIST.INSTANCE_NAME")),s.Ab(4),s.Cc(s.fc(9,14,"HOME.VALIDATION.REQUIRED")),s.Ab(5),s.Dc(" ",s.fc(14,16,"HOME.APPLICATION.NEW_INSTANCE.INSTANCE_PROPERTIES")," "),s.Ab(7),s.Cc(s.fc(21,18,"HOME.APPLICATION.NEW_INSTANCE.PORT")),s.Ab(4),s.Cc(s.fc(25,20,"HOME.VALIDATION.REQUIRED")),s.Ab(4),s.Cc(s.fc(29,22,"HOME.APPLICATION.LIST.SSHHOST")),s.Ab(5),s.jc("ngForOf",t.hostNameList),s.Ab(3),s.Cc(s.fc(37,24,"HOME.APPLICATION.NEW_INSTANCE.APPTYPE")),s.Ab(12),s.Cc(s.fc(49,26,"HOME.POLICY.DIALOG.CANCEL")),s.Ab(2),s.jc("disabled",t.disabled),s.Ab(1),s.Cc(s.fc(52,28,t.noteBook.createInstanceTitle))}}function P(t,n){if(1&t&&(s.Sb(0,"option",46),s.Bc(1),s.Rb()),2&t){const t=n.$implicit;s.jc("value",t.address),s.Ab(1),s.Cc(t.address)}}function M(t,n){if(1&t){const t=s.Tb();s.Sb(0,"form",23),s.ac("ngSubmit",(function(){s.sc(t);const n=s.dc(2);return n.create(n.gromacsInstanceForm)})),s.Sb(1,"div",24),s.Sb(2,"clr-input-container"),s.Sb(3,"label",25),s.Bc(4),s.ec(5,"translate"),s.Rb(),s.Nb(6,"input",26),s.Sb(7,"clr-control-error"),s.Bc(8),s.ec(9,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Nb(10,"div",27),s.Sb(11,"div",28),s.Sb(12,"p",29),s.Bc(13),s.ec(14,"translate"),s.Nb(15,"clr-icon",30),s.Rb(),s.Sb(16,"ul",31),s.Sb(17,"li"),s.Sb(18,"label",34),s.Bc(19),s.ec(20,"translate"),s.Rb(),s.Sb(21,"div",35),s.Sb(22,"div",36),s.Sb(23,"select",37),s.zc(24,P,2,2,"option",38),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(25,"li"),s.Sb(26,"label",39),s.Bc(27),s.ec(28,"translate"),s.Rb(),s.Sb(29,"div",35),s.Sb(30,"div",36),s.Sb(31,"select",40),s.Sb(32,"option",41),s.Bc(33,"jupyter"),s.Rb(),s.Sb(34,"option",42),s.Bc(35,"gromacs"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(36,"div",43),s.Sb(37,"div"),s.Sb(38,"button",44),s.ac("click",(function(){return s.sc(t),s.dc(2).cancel()})),s.Bc(39),s.ec(40,"translate"),s.Rb(),s.Sb(41,"button",45),s.Bc(42),s.ec(43,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=s.dc(2);s.jc("formGroup",t.gromacsInstanceForm),s.Ab(4),s.Cc(s.fc(5,10,"HOME.APPLICATION.LIST.INSTANCE_NAME")),s.Ab(4),s.Cc(s.fc(9,12,"HOME.VALIDATION.REQUIRED")),s.Ab(5),s.Dc(" ",s.fc(14,14,"HOME.APPLICATION.NEW_INSTANCE.INSTANCE_PROPERTIES")," "),s.Ab(6),s.Cc(s.fc(20,16,"HOME.APPLICATION.LIST.SSHHOST")),s.Ab(5),s.jc("ngForOf",t.hostNameList),s.Ab(3),s.Cc(s.fc(28,18,"HOME.APPLICATION.NEW_INSTANCE.APPTYPE")),s.Ab(12),s.Cc(s.fc(40,20,"HOME.POLICY.DIALOG.CANCEL")),s.Ab(2),s.jc("disabled",t.disabled),s.Ab(1),s.Cc(s.fc(43,22,t.noteBook.createInstanceTitle))}}function f(t,n){1&t&&(s.Sb(0,"div",47),s.Sb(1,"clr-spinner",48),s.Bc(2,"Loading ..."),s.Rb(),s.Rb())}function _(t,n){if(1&t&&(s.Sb(0,"div",10),s.Sb(1,"div",11),s.Sb(2,"div",12),s.Sb(3,"p",13),s.Bc(4),s.ec(5,"translate"),s.ec(6,"translate"),s.Rb(),s.zc(7,C,7,1,"div",14),s.zc(8,h,53,30,"form",15),s.zc(9,M,44,24,"form",15),s.zc(10,f,3,0,"div",16),s.Rb(),s.Rb(),s.Rb()),2&t){const t=s.dc();s.Ab(4),s.Ec("",s.fc(5,6,t.noteBook.createInstanceTitle)," ",s.fc(6,8,"HOME.APPLICATION.INSTANCE"),""),s.Ab(3),s.jc("ngIf",""!==t.errorMsg),s.Ab(1),s.jc("ngIf","jupyter"===t.noteBook.currentModel),s.Ab(1),s.jc("ngIf","gromacs"===t.noteBook.currentModel),s.Ab(1),s.jc("ngIf",t.loadingFlag)}}function A(t,n){1&t&&s.Nb(0,"div",49)}let S=(()=>{class t{constructor(t,n,e){this.router=t,this.nb=n,this.fb=e,this.hostNameList=[],this.loadingFlag=!1,this.errorMsg="",this.jupyterInstanceForm=this.fb.group({instanceName:["",a.E.required],port:["",a.E.required],appType:["jupyter"],sshHost:[{}]}),this.gromacsInstanceForm=this.fb.group({instanceName:["",a.E.required],sshHost:[""],appType:["gromacs"]}),this.noteBook=this.nb,this.jupyterInstanceForm=this.nb.instanceForm}ngOnInit(){this.gromacsInstanceForm.get("appType").disable({onlySelf:!0}),this.noteBook.getHostNameList().subscribe(t=>{this.hostNameList=t})}get disabled(){const t=[];if("jupyter"===this.noteBook.currentModel)for(const n in this.jupyterInstanceForm.value)"token"!==n&&t.push(this.jupyterInstanceForm.value[n]);else if("gromacs"===this.noteBook.currentModel)for(const n in this.gromacsInstanceForm.value)"token"!==n&&t.push(this.gromacsInstanceForm.value[n]);return!t.every(t=>""!==t)}cancel(){this.noteBook.createInstanceFlag=!1,this.jupyterInstanceForm.setValue({instanceName:"",port:"",appType:"",sshHost:""}),this.gromacsInstanceForm.setValue({instanceName:"",sshHost:"",appType:["gromacs"]}),this.errorMsg="",this.loadingFlag=!1}create(t){this.errorMsg="",this.loadingFlag=!0;const n=t.getRawValue(),e=this.hostNameList.find(t=>t.address===n.sshHost);if(n.sshPassword=e.sshPass,n.sshPort=e.sshPort,n.sshUser=e.sshUser,"jupyter"===n.appType){const t="HOME.APPLICATION.Create";n.sshPort=+n.sshPort,this.nb.createInstanceTitle===t?this.nb.createNewApp(n).subscribe(t=>{this.loadingFlag=!1,this.noteBook.createInstanceFlag=!1,this.jupyterInstanceForm.setValue({instanceName:"",port:"",appType:"",sshHost:""}),window.open("http://"+t.link,"_blank")},t=>{console.log("err",t),this.errorMsg=t.statusText,this.loadingFlag=!1}):this.nb.modifyApp(n).subscribe(t=>{this.loadingFlag=!1,this.noteBook.createInstanceFlag=!1,this.nb.getApplictionList()},t=>{this.errorMsg=t.msg,this.loadingFlag=!1})}else"gromacs"===n.appType&&(n.sshPort=+n.sshPort,this.nb.createNewApp(n).subscribe(t=>{this.loadingFlag=!1,this.noteBook.createInstanceFlag=!1,this.gromacsInstanceForm.setValue({instanceName:"",appType:"",sshHost:""})},t=>{console.log("err",t),this.errorMsg=t.statusText,this.loadingFlag=!1}))}}return t.\u0275fac=function(n){return new(n||t)(s.Mb(g.b),s.Mb(b),s.Mb(a.f))},t.\u0275cmp=s.Gb({type:t,selectors:[["tide-notebooks"]],decls:19,vars:11,consts:[[1,"note-wrap"],[1,"note-nav"],["clrVerticalNavLink","","routerLink","/cloudtides/notebooks/newInstance","routerLinkActive","active"],["shape","plus-circle","solid",""],["clrVerticalNavLink","","routerLink","/cloudtides/notebooks/list","routerLinkActive","active"],["shape","list","solid",""],["clrVerticalNavLink","","routerLink","/cloudtides/notebooks/history","routerLinkActive","active"],[1,"note-container"],["class","modal",4,"ngIf"],["class","modal-backdrop fade in","aria-hidden","true",4,"ngIf"],[1,"modal"],["role","dialog","aria-hidden","true",1,"modal-dialog","fadeDown","in"],[1,"modal-content"],[1,"create-title"],["class","alert alert-danger",4,"ngIf"],["class","clr-form clr-form-horizontal",3,"formGroup","ngSubmit",4,"ngIf"],["class","loding-warp",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","exclamation-circle"],[1,"alert-text"],[1,"clr-form","clr-form-horizontal",3,"formGroup","ngSubmit"],[1,"clr-form-control","first-form-control"],["for","instanceName",1,"clr-control-label"],["name","instanceName","id","instanceName","clrInput","","type","text","formControlName","instanceName"],[1,"clr-form-control"],[1,"option"],[1,"option-title"],["shape","pencil","solid",""],[1,"option-list"],["for","port",1,"clr-control-label"],["clrInput","","type","text","name","port","id","port","formControlName","port","required",""],["for","sshHost",1,"clr-control-label"],[1,"clr-control-container"],[1,"clr-select-wrapper"],["placeholder","Select Option","id","sshHost","name","sshHost","formControlName","sshHost"],[3,"value",4,"ngFor","ngForOf"],["for","input7",1,"clr-control-label"],["placeholder","Select Option","id","input7","name","appType","formControlName","appType"],["value","jupyter"],["value","gromacs"],[1,"footer"],[1,"btn","btn-outline",3,"click"],["type","submit",1,"btn","btn-info-outline",3,"disabled"],[3,"value"],[1,"loding-warp"],[1,"loading"],["aria-hidden","true",1,"modal-backdrop","fade","in"]],template:function(t,n){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"clr-vertical-nav"),s.Sb(3,"a",2),s.Nb(4,"clr-icon",3),s.Bc(5),s.ec(6,"translate"),s.Rb(),s.Sb(7,"a",4),s.Nb(8,"clr-icon",5),s.Bc(9),s.ec(10,"translate"),s.Rb(),s.Sb(11,"a",6),s.Nb(12,"clr-icon",5),s.Bc(13),s.ec(14,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Sb(15,"div",7),s.Nb(16,"router-outlet"),s.Rb(),s.zc(17,_,11,10,"div",8),s.zc(18,A,1,0,"div",9),s.Rb()),2&t&&(s.Ab(5),s.Dc(" ",s.fc(6,5,"HOME.APPLICATION.NEW_INSTANCE.NEW_INSTANCE")," "),s.Ab(4),s.Dc(" ",s.fc(10,7,"HOME.APPLICATION.LIST.INSTANCE_LIST")," "),s.Ab(4),s.Dc(" ",s.fc(14,9,"HOME.APPLICATION.HISTORY")," "),s.Ab(4),s.jc("ngIf",n.noteBook.createInstanceFlag),s.Ab(1),s.jc("ngIf",n.noteBook.createInstanceFlag))},directives:[d.vc,g.e,d.zc,g.d,d.kb,g.g,u.v,d.i,a.G,a.r,a.k,d.sb,d.tb,a.c,d.rb,a.q,a.i,d.t,a.B,a.C,u.u,a.v,a.F,d.Sb],pipes:[O.d],styles:[".note-wrap[_ngcontent-%COMP%]{display:flex;height:100%}.note-wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#ccc}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .clr-vertical-nav[_ngcontent-%COMP%]    {height:100%}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .clr-vertical-nav[_ngcontent-%COMP%]     .nav-group-trigger{overflow:inherit}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .clr-vertical-nav[_ngcontent-%COMP%]     .customize-instance{border-bottom:1px solid #ccc;margin-top:0;padding-left:44px}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .clr-vertical-nav[_ngcontent-%COMP%]     .version-lange{border-bottom:1px solid #ccc}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .clr-vertical-nav[_ngcontent-%COMP%]     .version-lange p{margin-top:0;padding-left:24px}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .clr-vertical-nav[_ngcontent-%COMP%]     .version-lange .title{padding-left:44px;width:170px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .clr-vertical-nav[_ngcontent-%COMP%]     .version-lange .desc{font-size:12px;line-height:14px;color:#aaa}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .clr-vertical-nav[_ngcontent-%COMP%]     .version-lange.bnt2{padding-left:10px}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .clr-vertical-nav[_ngcontent-%COMP%]     .version-lange.bnt2 p{color:#777}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .clr-vertical-nav[_ngcontent-%COMP%]     .version-lange.bnt3{padding-left:20px}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .clr-vertical-nav[_ngcontent-%COMP%]     .version-lange.bnt3 p{color:#999}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]     .nav-group-trigger{height:auto}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]     .nav-group-content{border-bottom:1px solid #ccc}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]     .nav-group-content .nav-group-text{height:auto}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]     .nav-group-content .nav-group-text .version-lange{border-bottom:none;width:170px}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]     .nav-group-content .nav-group-text .version-lange .title{padding-left:20px;width:170px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.note-wrap[_ngcontent-%COMP%]   .note-nav[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]     .nav-group-content .nav-group-text .version-lange .desc{padding:0}.note-wrap[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{flex:1}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .first-form-control[_ngcontent-%COMP%]{margin-top:0}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .clr-control-label[_ngcontent-%COMP%]{width:100px;height:30px;line-height:30px}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .clr-control-label.label2[_ngcontent-%COMP%]{margin-left:30px}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .create-title[_ngcontent-%COMP%]{margin-top:0;font-size:20px;font-weight:blod}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-title[_ngcontent-%COMP%]{margin:20px 0;font-size:16px;font-weight:blod}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]{list-style:none}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]    {border-top:1px solid #ccc;display:flex;align-items:center;padding:5px 0}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]     .clr-form-control{margin-top:0}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]     .clr-control-label{width:150px}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]     #example4, .note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]     .clr-input{border:none;width:300px}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{border-bottom:1px solid #ccc}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{margin-top:20PX;display:flex;justify-content:space-between}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   P[_ngcontent-%COMP%]{margin-top:0;font-weight:blod;font-size:16px}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{color:#333}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .loding-warp[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.2)}.note-wrap[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .loding-warp[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:absolute;left:45%;top:45%;transform:translate(-40%,-40%)}.note-wrap[_ngcontent-%COMP%]   .fade.in[_ngcontent-%COMP%]{opacity:.5}"]}),t})();var I=e("30Bq"),v=e("gMiC");function R(t,n){if(1&t){const t=s.Tb();s.Sb(0,"clr-icon",17),s.ac("click",(function(){s.sc(t);const n=s.dc().$implicit;return s.dc().toJupyter(n)})),s.Rb()}}function T(t,n){if(1&t){const t=s.Tb();s.Sb(0,"clr-icon",17),s.ac("click",(function(){s.sc(t);const n=s.dc().$implicit;return s.dc().toGromacs(n)})),s.Rb()}}function N(t,n){if(1&t){const t=s.Tb();s.Sb(0,"clr-dg-row",12),s.Sb(1,"clr-dg-cell"),s.Bc(2),s.Rb(),s.Sb(3,"clr-dg-cell"),s.Bc(4),s.ec(5,"date"),s.Rb(),s.Sb(6,"clr-dg-cell"),s.Bc(7),s.ec(8,"formatSecond"),s.Rb(),s.Sb(9,"clr-dg-cell"),s.Bc(10),s.Rb(),s.Sb(11,"clr-dg-cell"),s.zc(12,R,1,0,"clr-icon",13),s.zc(13,T,1,0,"clr-icon",13),s.Sb(14,"clr-icon",14),s.ac("click",(function(){s.sc(t);const e=n.$implicit;return s.dc().checkApp(e)})),s.Rb(),s.Sb(15,"clr-icon",15),s.ac("click",(function(){s.sc(t);const e=n.$implicit;return s.dc().deleteApp(e)})),s.Rb(),s.Sb(16,"clr-icon",16),s.ac("click",(function(){s.sc(t);const e=n.$implicit;return s.dc().getCurrentAppLogs(e)})),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=n.$implicit;s.jc("clrDgItem",t),s.Ab(2),s.Cc(t.instanceName),s.Ab(2),s.Cc(s.gc(5,7,1e3*t.createAt,"yyyy-MM-dd")),s.Ab(3),s.Cc(s.fc(8,10,t.runningTime)),s.Ab(3),s.Dc(" ",t.appType," "),s.Ab(2),s.jc("ngIf","jupyter"===t.appType),s.Ab(1),s.jc("ngIf","gromacs"===t.appType)}}function w(t,n){if(1&t){const t=s.Tb();s.Sb(0,"div",18),s.Sb(1,"div",19),s.Sb(2,"div",20),s.Sb(3,"p"),s.Bc(4),s.ec(5,"translate"),s.Rb(),s.Sb(6,"div",21),s.Sb(7,"button",22),s.ac("click",(function(){return s.sc(t),s.dc().cancel()})),s.Bc(8),s.ec(9,"translate"),s.Rb(),s.Sb(10,"button",23),s.ac("click",(function(){return s.sc(t),s.dc().sure()})),s.Bc(11),s.ec(12,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}2&t&&(s.Ab(4),s.Cc(s.fc(5,3,"HOME.APPLICATION.LIST.PLACE_CONFIRM")),s.Ab(4),s.Cc(s.fc(9,5,"HOME.POLICY.DIALOG.CANCEL")),s.Ab(3),s.Cc(s.fc(12,7,"HOME.POLICY.DIALOG.SURE")))}function x(t,n){if(1&t&&(s.Sb(0,"p",40),s.Bc(1),s.Rb()),2&t){const t=s.dc(2);s.Ab(1),s.Dc(" ",t.errorTip," ")}}function E(t,n){if(1&t&&(s.Sb(0,"div"),s.Bc(1),s.Rb()),2&t){const t=s.dc(2);s.Ab(1),s.Cc(t.file.name)}}function k(t,n){if(1&t&&(s.Sb(0,"div",41),s.Nb(1,"progress",42),s.Sb(2,"span"),s.Bc(3),s.Rb(),s.Rb()),2&t){const t=s.dc(2);s.Ab(1),s.jc("value",t.progress),s.Ab(2),s.Dc("",t.progress,"%")}}function L(t,n){if(1&t){const t=s.Tb();s.Sb(0,"clr-dg-row"),s.Sb(1,"clr-dg-cell"),s.Bc(2),s.Rb(),s.Sb(3,"clr-dg-cell"),s.Bc(4),s.ec(5,"date"),s.Rb(),s.Sb(6,"clr-dg-cell"),s.Bc(7),s.Rb(),s.Sb(8,"clr-dg-cell"),s.Sb(9,"clr-icon",43),s.ac("click",(function(){s.sc(t);const e=n.$implicit;return s.dc(2).downFile(e)})),s.Rb(),s.Nb(10,"clr-icon",44),s.Rb(),s.Rb()}if(2&t){const t=n.$implicit;s.Ab(2),s.Cc(t.filename),s.Ab(2),s.Cc(s.gc(5,3,t.createtime,"yyyy-MM-dd")),s.Ab(3),s.Cc(t.filesize)}}function y(t,n){if(1&t){const t=s.Tb();s.Sb(0,"div",18),s.Sb(1,"div",24),s.Sb(2,"div",20),s.Sb(3,"p"),s.Bc(4),s.ec(5,"translate"),s.Rb(),s.Sb(6,"ul",25),s.Sb(7,"li"),s.Sb(8,"label",26),s.Bc(9),s.ec(10,"translate"),s.Rb(),s.Nb(11,"input",27),s.Rb(),s.Sb(12,"li"),s.Sb(13,"label",26),s.Bc(14),s.ec(15,"translate"),s.Rb(),s.Nb(16,"input",28),s.Rb(),s.Sb(17,"li"),s.Sb(18,"label",26),s.Bc(19),s.ec(20,"translate"),s.Rb(),s.Nb(21,"input",29),s.Rb(),s.Sb(22,"li"),s.Sb(23,"p"),s.Bc(24),s.ec(25,"translate"),s.Rb(),s.Sb(26,"div",30),s.Sb(27,"div",31,32),s.ac("hovered",(function(n){return s.sc(t),s.pc(28).isHovering=n}))("dropped",(function(n){return s.sc(t),s.dc().onDrop(n)})),s.Nb(29,"img",33),s.Sb(30,"p"),s.Bc(31),s.ec(32,"translate"),s.Sb(33,"label",34),s.Bc(34),s.ec(35,"translate"),s.Rb(),s.Sb(36,"input",35),s.ac("change",(function(n){return s.sc(t),s.dc().changeFile(n)})),s.Rb(),s.Rb(),s.Rb(),s.zc(37,x,2,1,"p",36),s.Rb(),s.zc(38,E,2,1,"div",37),s.zc(39,k,4,2,"div",38),s.Rb(),s.Sb(40,"li"),s.Sb(41,"p"),s.Bc(42),s.ec(43,"translate"),s.Rb(),s.Sb(44,"clr-datagrid"),s.Sb(45,"clr-dg-column"),s.Bc(46),s.ec(47,"translate"),s.Rb(),s.Sb(48,"clr-dg-column"),s.Bc(49),s.ec(50,"translate"),s.Rb(),s.Sb(51,"clr-dg-column"),s.Bc(52),s.ec(53,"translate"),s.Rb(),s.Sb(54,"clr-dg-column"),s.Bc(55),s.ec(56,"translate"),s.Rb(),s.zc(57,L,11,6,"clr-dg-row",39),s.Sb(58,"clr-dg-footer"),s.Bc(59),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(60,"div",21),s.Sb(61,"button",22),s.ac("click",(function(){return s.sc(t),s.dc().cancel()})),s.Bc(62),s.ec(63,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=s.pc(28),n=s.dc();s.Ab(4),s.Cc(s.fc(5,22,"HOME.APPLICATION.LIST.INSTANCE_DETAILS")),s.Ab(5),s.Dc("",s.fc(10,24,"HOME.APPLICATION.LIST.INSTANCE_NAME"),":"),s.Ab(2),s.jc("value",n.currentInstanc.instanceName),s.Ab(3),s.Dc("",s.fc(15,26,"HOME.APPLICATION.LIST.CREATETIME"),":"),s.Ab(5),s.Dc("",s.fc(20,28,"HOME.APPLICATION.LIST.INSTANCE_TYPE"),":"),s.Ab(2),s.jc("value",n.currentInstanc.appType),s.Ab(3),s.Cc(s.fc(25,30,"HOME.APPLICATION.LIST.FILE_UPLOAD")),s.Ab(3),s.Db("hovering",t.isHovering),s.Ab(4),s.Dc(" ",s.fc(32,32,"HOME.APPLICATION.LIST.DRAGHERE"),""),s.Ab(3),s.Dc("\xa0",s.fc(35,34,"HOME.APPLICATION.LIST.UPLOAD"),""),s.Ab(3),s.jc("ngIf",""!==n.errorTip),s.Ab(1),s.jc("ngIf",n.readyupload),s.Ab(1),s.jc("ngIf",n.readyupload),s.Ab(3),s.Cc(s.fc(43,36,"HOME.APPLICATION.LIST.FILE_LIST")),s.Ab(4),s.Cc(s.fc(47,38,"HOME.APPLICATION.LIST.FILE_NAME")),s.Ab(3),s.Cc(s.fc(50,40,"HOME.APPLICATION.LIST.UPLOAD_TIME")),s.Ab(3),s.Cc(s.fc(53,42,"HOME.APPLICATION.LIST.FILE_SIZE")),s.Ab(3),s.Cc(s.fc(56,44,"HOME.APPLICATION.LIST.OPERATE")),s.Ab(2),s.jc("ngForOf",n.fileList),s.Ab(2),s.Cc(n.fileList.length),s.Ab(3),s.Cc(s.fc(63,46,"HOME.POLICY.DIALOG.CLOSE"))}}function B(t,n){1&t&&s.Nb(0,"div",45)}let H=(()=>{class t{constructor(t,n){this.nd=t,this.router=n,this.fileList=[],this.progress=0,this.selected="selected",this.check=!1,this.sureDeleteFalg=!1,this.background=!1,this.filterSearchValue="",this.token="",this.errorTip=""}ngOnInit(){this.nd.getApplictionList()}get readyupload(){return!!(this.file&&this.file.size>0&&""!==this.file.name)}toJupyter(t){const n=t.link.split("?")[0];let e=document.createElement("form");e.action="http://"+n,e.method="get",e.target="_blank",document.documentElement.appendChild(e);const o=document.createElement("input");o.type="hidden",o.name="token",o.value=t.token,e.appendChild(o),setTimeout(()=>{e.submit(),e=null},1e3)}toGromacs(t){const n="http://"+t.link;let e=document.createElement("form");e.action=n,e.method="get",e.target="_blank",document.documentElement.appendChild(e);const o=document.createElement("input");o.type="hidden",o.name="token",o.value=t.token,e.appendChild(o),setTimeout(()=>{e.submit(),e=null},1e3)}modifyApp(t){this.nd.createInstanceFlag=!0,this.nd.createInstanceTitle="HOME.APPLICATION.Modify",this.nd.modifiable=!1,console.log("app",t),this.nd.instanceForm.setValue({instanceName:t.instanceName,port:t.port,appType:t.appType,sshHost:t.sshHost,sshPassword:t.sshPassword,sshPort:t.sshPort,sshUser:t.sshUser,token:t.token}),this.nd.instanceForm.get("appType").disable({onlySelf:!1,emitEvent:!1})}deleteApp(t){this.sureDeleteFalg=!0,this.background=!0,this.token=t.token}getCurrentAppLogs(t){this.nd.getAppLogs(t.token),this.router.navigate(["/cloudtides/notebooks/log"])}sure(){this.nd.deleteApp(this.token).subscribe(t=>{localStorage.removeItem(this.token),this.sureDeleteFalg=!1,this.background=!1,this.nd.getApplictionList()})}cancel(){this.sureDeleteFalg=!1,this.check=!1,this.background=!1,this.token="",this.progress=0,this.file=null,this.errorTip=""}checkApp(t){this.currentInstanc=t,this.check=!0,this.background=!0,this.token=t.token,this.getFileList()}onDrop(t){this.file=t[0],this.errorTip="",this.nd.uploadData(t[0],this.token).subscribe(t=>{t.type===c.c.UploadProgress&&t.total&&t.total>0&&(this.progress=t.loaded/t.total*100),t.type===c.c.Response&&(200===t.status?(console.log("\u4e0a\u4f20\u6210\u529f"),this.getFileList()):(this.progress=0,console.log("\u4e0a\u4f20\u5931\u8d25"),this.errorTip="\u4e0a\u4f20\u5931\u8d25"))},t=>{console.log("\u4e0a\u4f20\u9519\u8bef",t),this.errorTip=t.message})}changeFile(t){var n,e,o,i;this.errorTip="",this.file=null===(e=null===(n=t.target)||void 0===n?void 0:n.files)||void 0===e?void 0:e[0],this.nd.uploadData(null===(i=null===(o=t.target)||void 0===o?void 0:o.files)||void 0===i?void 0:i[0],this.token).subscribe(t=>{t.type===c.c.UploadProgress&&t.total&&t.total>0&&(this.progress=t.loaded/t.total*100),t.type===c.c.Response&&(200===t.status?(console.log("\u4e0a\u4f20\u6210\u529f"),this.getFileList()):(this.progress=0,console.log("\u4e0a\u4f20\u5931\u8d25"),this.errorTip="\u4e0a\u4f20\u5931\u8d25"))},t=>{console.log("\u4e0a\u4f20\u9519\u8bef",t),this.errorTip=t.message})}getFileList(){this.nd.getFileList(this.token).subscribe(t=>{this.fileList=t.map(t=>(t.createtime=1e3*Number(t.createtime),t))})}downFile(t){window.location.href="http://"+t.downlink}}return t.\u0275fac=function(n){return new(n||t)(s.Mb(b),s.Mb(g.b))},t.\u0275cmp=s.Gb({type:t,selectors:[["tide-list"]],decls:31,vars:27,consts:[[1,"clr-form"],["shape","filter-2"],[1,"clr-control-container"],[1,"clr-input-wrapper","clr-row"],["clrInput","","name","filter",1,"searchinput",3,"placeholder","ngModel","ngModelChange"],["type","button",1,"btn","btn-link","btn-icon"],["shape","search"],[1,"table-list"],[3,"clrDgField"],["class","clr-align-items-center",3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],["class","modal",4,"ngIf"],["class","modal-backdrop","aria-hidden","true",4,"ngIf"],[1,"clr-align-items-center",3,"clrDgItem"],["class","icon","shape","play","solid","",3,"click",4,"ngIf"],["shape","form",1,"icon",3,"click"],["shape","trash",1,"icon",3,"click"],["shape","justify-text",3,"click"],["shape","play","solid","",1,"icon",3,"click"],[1,"modal"],["role","dialog","aria-hidden","true",1,"modal-dialog","modal-ld"],[1,"modal-content"],[1,"btns"],[1,"btn","btn-outline",3,"click"],[1,"btn","btn-primary",3,"click"],["role","dialog","aria-hidden","true",1,"modal-dialog","modal-xs"],[1,"list"],[1,"label-text"],["type","text","id","instanceName","name","instanceName","disabled","",1,"label-input",3,"value"],["type","text","id","createTime","name","createTime","disabled","",1,"label-input"],["type","text","id","type","name","type","disabled","",1,"label-input",3,"value"],[1,"upload-file"],["dropzone","",1,"upload",3,"hovered","dropped"],["uploadzone",""],["src","assets/img/upload.png","alt",""],["for","file"],["type","file","name","file","id","file","multiple","multiple",2,"display","none",3,"change"],["class","error-file",4,"ngIf"],[4,"ngIf"],["class","progress top",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"error-file"],[1,"progress","top"],["max","100",3,"value"],["shape","download",1,"icon","file-icon",2,"color","#2779AD",3,"click"],["shape","trash",1,"icon","file-icon",2,"color","#991700"],["aria-hidden","true",1,"modal-backdrop"]],template:function(t,n){1&t&&(s.Sb(0,"form",0),s.Sb(1,"div"),s.Nb(2,"clr-icon",1),s.Bc(3),s.ec(4,"translate"),s.Rb(),s.Sb(5,"div",2),s.Sb(6,"div",3),s.Sb(7,"input",4),s.ac("ngModelChange",(function(t){return n.filterSearchValue=t})),s.ec(8,"translate"),s.Rb(),s.Sb(9,"button",5),s.Nb(10,"clr-icon",6),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(11,"clr-datagrid",7),s.Sb(12,"clr-dg-column",8),s.Bc(13),s.ec(14,"translate"),s.Rb(),s.Sb(15,"clr-dg-column"),s.Bc(16),s.ec(17,"translate"),s.Rb(),s.Sb(18,"clr-dg-column"),s.Bc(19),s.ec(20,"translate"),s.Rb(),s.Sb(21,"clr-dg-column"),s.Bc(22),s.ec(23,"translate"),s.Rb(),s.Sb(24,"clr-dg-column"),s.Bc(25),s.ec(26,"translate"),s.Rb(),s.zc(27,N,17,12,"clr-dg-row",9),s.Rb(),s.zc(28,w,13,9,"div",10),s.zc(29,y,64,48,"div",10),s.zc(30,B,1,0,"div",11)),2&t&&(s.Ab(3),s.Dc(" ",s.fc(4,13,"HOME.APPLICATION.FILTER")," "),s.Ab(4),s.kc("placeholder",s.fc(8,15,"HOME.APPLICATION.PLACEHOLDER.SEARCH")),s.jc("ngModel",n.filterSearchValue),s.Ab(5),s.jc("clrDgField","name"),s.Ab(1),s.Cc(s.fc(14,17,"HOME.APPLICATION.LIST.INSTANCE_NAME")),s.Ab(3),s.Cc(s.fc(17,19,"HOME.APPLICATION.LIST.CREATETIME")),s.Ab(3),s.Cc(s.fc(20,21,"HOME.APPLICATION.LIST.TOTALRUNTIME")),s.Ab(3),s.Cc(s.fc(23,23,"HOME.APPLICATION.LIST.INSTANCE_TYPE")),s.Ab(3),s.Cc(s.fc(26,25,"HOME.APPLICATION.LIST.OPERATE")),s.Ab(2),s.jc("clrDgItemsOf",n.nd.appList),s.Ab(1),s.jc("ngIf",n.sureDeleteFalg),s.Ab(1),s.jc("ngIf",n.check),s.Ab(1),s.jc("ngIf",n.background))},directives:[a.G,a.r,a.s,d.kb,a.c,d.rb,a.q,a.t,d.v,d.Xc,d.bd,d.cd,d.dd,d.z,d.Yc,d.K,u.v,d.P,d.Zc,d.y,d.ad,d.tb,I.a,u.u,d.I],pipes:[O.d,u.f,v.a],styles:[".clr-form[_ngcontent-%COMP%], .table-list[_ngcontent-%COMP%]{width:100%}.clr-form[_ngcontent-%COMP%]{display:flex;align-items:center}.clr-form[_ngcontent-%COMP%]   .clr-control-container[_ngcontent-%COMP%]    {margin-left:20px}.clr-form[_ngcontent-%COMP%]   .clr-control-container[_ngcontent-%COMP%]     .searchinput{width:300px}.clr-form[_ngcontent-%COMP%]   .clr-control-container[_ngcontent-%COMP%]     .clr-input-wrapper{position:relative}.clr-form[_ngcontent-%COMP%]   .clr-control-container[_ngcontent-%COMP%]     .clr-input-wrapper .clr-form-control{margin-top:0}.clr-form[_ngcontent-%COMP%]   .clr-control-container[_ngcontent-%COMP%]     .clr-input-wrapper .btn{margin-top:0;position:absolute;top:-6px;right:-30px}.clr-align-items-center[_ngcontent-%COMP%]  .datagrid-cell{line-height:72px}.clr-align-items-center[_ngcontent-%COMP%]  .datagrid-cell .clr-checkbox-wrapper{position:absolute;top:50%;transform:translateY(-50%)}.clr-align-items-center[_ngcontent-%COMP%]  .icon{margin-right:10px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;font-size:20px;margin-bottom:15px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{list-style:none;margin-left:0}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{display:inline-block;width:100px}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .label-input[_ngcontent-%COMP%]{border:none;background-color:#fff}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;margin-right:15px;margin-left:15px}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:10px 0}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]{display:flex}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   .upload[_ngcontent-%COMP%]{width:300px;height:120px;position:relative;margin-bottom:15px;margin-right:10px;border:1px dashed #666;border-radius:5px}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   .upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   .upload[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;transform:translateX(-50%);font-size:14px;color:#ccc;white-space:nowrap}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   .upload[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;color:#2572a3}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   .error-file[_ngcontent-%COMP%]{flex:1;font-size:16px;color:red}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{display:flex;align-items:center}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:16px;margin:0;font-weight:400;color:#666;width:60%;justify-content:space-between}.modal[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{margin-right:12px}  .log-wrap .datagrid-host .datagrid-outer-wrapper{height:80vh}"]}),t})(),F=(()=>{class t{constructor(t,n){this.noteBooks=t,this.router=n,this.currentButton=!0,this.createInstanceFlag=!1,this.noteBook=this.noteBooks}ngOnInit(){}backCreateInstance(){this.router.navigate(["/cloudtides/notebooks/list"])}openInstanceModal(t){this.noteBook.createInstanceFlag=!0,this.noteBook.currentModel=t,this.noteBook.createInstanceTitle="HOME.APPLICATION.Create",this.noteBook.modifiable=!0,this.noteBook.instanceForm.get("appType").setValue(t),this.noteBook.instanceForm.get("appType").disable({onlySelf:!0})}toggleCurrentButton(){this.currentButton=!this.currentButton}}return t.\u0275fac=function(n){return new(n||t)(s.Mb(b),s.Mb(g.b))},t.\u0275cmp=s.Gb({type:t,selectors:[["tide-create-insrance"]],decls:10,vars:1,consts:[[1,"instanc-warp"],[1,"instanc-content",3,"hidden"],[1,"python",3,"click"],["src","assets/img/jupyter.svg","alt",""],[1,"gromacs",3,"click"],["src","assets/img/gromacs.png","alt",""]],template:function(t,n){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.ac("click",(function(){return n.openInstanceModal("jupyter")})),s.Nb(3,"img",3),s.Sb(4,"p"),s.Bc(5,"Jupyter"),s.Rb(),s.Rb(),s.Sb(6,"div",4),s.ac("click",(function(){return n.openInstanceModal("gromacs")})),s.Nb(7,"img",5),s.Sb(8,"p"),s.Bc(9,"Gromacs"),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Ab(1),s.jc("hidden",!n.currentButton))},styles:[".instanc-warp[_ngcontent-%COMP%]{height:100%;padding:20px}.instanc-warp[_ngcontent-%COMP%]   .instanc-content[_ngcontent-%COMP%]{padding:20px 30px;margin:20px 30px;height:100%;display:flex;flex-wrap:wrap;justify-content:flex-start;background-color:#fff}.instanc-warp[_ngcontent-%COMP%]   .instanc-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:300px;height:140px;margin:10px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.instanc-warp[_ngcontent-%COMP%]   .instanc-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin-top:10px}.instanc-warp[_ngcontent-%COMP%]   .instanc-content[_ngcontent-%COMP%]   .gromacs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .instanc-warp[_ngcontent-%COMP%]   .instanc-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:100px}.instanc-warp[_ngcontent-%COMP%]   .instanc-content[_ngcontent-%COMP%]   .Rlogo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}"]}),t})();function j(t,n){if(1&t&&(s.Sb(0,"clr-dg-row"),s.Sb(1,"clr-dg-cell",6),s.Bc(2),s.Rb(),s.Sb(3,"clr-dg-cell"),s.Bc(4),s.Rb(),s.Sb(5,"clr-dg-cell"),s.Bc(6),s.Rb(),s.Sb(7,"clr-dg-cell"),s.Bc(8),s.Rb(),s.Sb(9,"clr-dg-cell"),s.Bc(10),s.Rb(),s.Sb(11,"clr-dg-cell"),s.Bc(12),s.Rb(),s.Rb()),2&t){const t=n.$implicit,e=n.index;s.Ab(2),s.Cc(e+1),s.Ab(2),s.Cc("None"===t.content?"":t.content),s.Ab(2),s.Cc("None"===t.date?"":t.date),s.Ab(2),s.Cc("None"===t.time?"":t.time),s.Ab(2),s.Cc("None"===t.leve?"":t.leve),s.Ab(2),s.Cc("None"===t.source?"":t.source)}}function D(t,n){1&t&&(s.Sb(0,"div",7),s.Sb(1,"clr-spinner"),s.Bc(2,"Loading ..."),s.Rb(),s.Rb())}const z=[{path:"",component:S,data:{keep:!0},children:[{path:"",redirectTo:"newInstance"},{path:"list",component:H,data:{keep:!0}},{path:"log",component:(()=>{class t{constructor(t,n){this.nd=t,this.router=n}ngOnDestroy(){this.nd.closeWs()}ngOnInit(){this.nd.currentToken||this.router.navigate(["/cloudtides/notebooks/list"])}back(){this.nd.closeWs(),this.router.navigate(["/cloudtides/notebooks/list"])}}return t.\u0275fac=function(n){return new(n||t)(s.Mb(b),s.Mb(g.b))},t.\u0275cmp=s.Gb({type:t,selectors:[["tide-log"]],decls:28,vars:24,consts:[[1,"log-wrap"],["routerLink","/cloudtides/notebooks/list",1,"btn","btn-primary",3,"click"],["shape","undo"],[2,"width","36px"],[4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],[2,"border-right","1px solid #ccc"],[1,"loading"]],template:function(t,n){1&t&&(s.Sb(0,"div",0),s.Sb(1,"button",1),s.ac("click",(function(){return n.back()})),s.Nb(2,"clr-icon",2),s.Bc(3),s.ec(4,"translate"),s.Rb(),s.Sb(5,"clr-datagrid"),s.Sb(6,"clr-dg-column",3),s.Bc(7),s.ec(8,"translate"),s.Rb(),s.Sb(9,"clr-dg-column"),s.Bc(10),s.ec(11,"translate"),s.Rb(),s.Sb(12,"clr-dg-column"),s.Bc(13),s.ec(14,"translate"),s.Rb(),s.Sb(15,"clr-dg-column"),s.Bc(16),s.ec(17,"translate"),s.Rb(),s.Sb(18,"clr-dg-column"),s.Bc(19),s.ec(20,"translate"),s.Rb(),s.Sb(21,"clr-dg-column"),s.Bc(22),s.ec(23,"translate"),s.Rb(),s.zc(24,j,13,6,"clr-dg-row",4),s.Sb(25,"clr-dg-footer"),s.Bc(26),s.Rb(),s.Rb(),s.zc(27,D,3,0,"div",5),s.Rb()),2&t&&(s.Ab(3),s.Dc(" ",s.fc(4,10,"HOME.LOG.BACK")," "),s.Ab(4),s.Cc(s.fc(8,12,"HOME.LOG.NO")),s.Ab(3),s.Cc(s.fc(11,14,"HOME.LOG.CONTENT")),s.Ab(3),s.Cc(s.fc(14,16,"HOME.LOG.DATE")),s.Ab(3),s.Cc(s.fc(17,18,"HOME.LOG.TIME")),s.Ab(3),s.Cc(s.fc(20,20,"HOME.LOG.LEVE")),s.Ab(3),s.Cc(s.fc(23,22,"HOME.LOG.SOURCE")),s.Ab(2),s.jc("ngForOf",n.nd.appLogs),s.Ab(2),s.Dc("",n.nd.appLogs.length," users"),s.Ab(1),s.jc("ngIf",n.nd.loading))},directives:[g.c,d.kb,d.v,d.Xc,d.bd,d.cd,d.dd,d.z,d.Yc,u.u,d.I,u.v,d.P,d.Zc,d.y,d.ad,d.Sb],pipes:[O.d],styles:[".log-wrap[_ngcontent-%COMP%]{padding:20px;position:relative}.log-wrap[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 80px);position:absolute;left:0;top:80px;background-color:rgba(0,0,0,.2);z-index:999}.log-wrap[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}"]}),t})()},{path:"history",component:(()=>{class t{constructor(t){this.http=t,this.users=[]}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(s.Mb(c.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["tide-history"]],decls:2,vars:0,template:function(t,n){1&t&&(s.Sb(0,"h4"),s.Bc(1,"\u6682\u672a\u5f00\u653e"),s.Rb())},styles:[".xterm[_ngcontent-%COMP%]{position:relative;-moz-user-select:none;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus[_ngcontent-%COMP%], .xterm[_ngcontent-%COMP%]:focus{outline:none}.xterm[_ngcontent-%COMP%]   .xterm-helpers[_ngcontent-%COMP%]{position:absolute;top:0;z-index:5}.xterm[_ngcontent-%COMP%]   .xterm-helper-textarea[_ngcontent-%COMP%]{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm[_ngcontent-%COMP%]   .composition-view[_ngcontent-%COMP%]{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm[_ngcontent-%COMP%]   .composition-view.active[_ngcontent-%COMP%]{display:block}.xterm[_ngcontent-%COMP%]   .xterm-viewport[_ngcontent-%COMP%]{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm[_ngcontent-%COMP%]   .xterm-screen[_ngcontent-%COMP%]{position:relative}.xterm[_ngcontent-%COMP%]   .xterm-screen[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{position:absolute;left:0;top:0}.xterm[_ngcontent-%COMP%]   .xterm-scroll-area[_ngcontent-%COMP%]{visibility:hidden}.xterm-char-measure-element[_ngcontent-%COMP%]{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm[_ngcontent-%COMP%]{cursor:text}.xterm.enable-mouse-events[_ngcontent-%COMP%]{cursor:default}.xterm.xterm-cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.xterm.column-select.focus[_ngcontent-%COMP%]{cursor:crosshair}.xterm[_ngcontent-%COMP%]   .xterm-accessibility[_ngcontent-%COMP%], .xterm[_ngcontent-%COMP%]   .xterm-message[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent}.xterm[_ngcontent-%COMP%]   .live-region[_ngcontent-%COMP%]{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim[_ngcontent-%COMP%]{opacity:.5}.xterm-underline[_ngcontent-%COMP%]{text-decoration:underline}.xterm-strikethrough[_ngcontent-%COMP%]{text-decoration:line-through}"]}),t})()},{path:"newInstance",component:F,data:{keep:!1}}]}],G=[];let U=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(n){return new(n||t)},imports:[[g.f.forChild(z)],g.f]}),t})(),V=(()=>{class t{shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig&&JSON.stringify(t.params)===JSON.stringify(n.params)}retrieve(n){return t.handlers[this.getRouteUrl(n)]?t.handlers[this.getRouteUrl(n)]:null}shouldDetach(t){return!(!t.data||!t.data.keep)}shouldAttach(n){return!!t.handlers[this.getRouteUrl(n)]}store(n,e){t.handlers[this.getRouteUrl(n)]=e}getRouteUrl(t){return t._routerState.url.replace(/\//g,"_")}}return t.handlers={},t})(),W=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(n){return new(n||t)},providers:[b,{provide:g.a,useClass:V},...G],imports:[[o.a,U]]}),t})()}}]);
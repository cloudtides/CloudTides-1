(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{ieIp:function(e,t,r){"use strict";r.r(t),r.d(t,"VendorModule",(function(){return z}));var n=r("pk6O"),i=r("tyNb"),c=r("fXoL");let o=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Gb({type:e,selectors:[["tide-vendor"]],decls:2,vars:0,consts:[[1,"content-area"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Nb(1,"router-outlet"),c.Rb())},directives:[i.g],styles:[""]}),e})();var l=r("mrSG"),s=r("lJxs"),a=r("AytR"),b=r("xP43"),d=r("tk/3"),u=r("XNvx");let v=(()=>{class e{constructor(e,t){this.http=e,this.loginService=t,this.prefix=a.a.apiPrefix+"/computeResource"}getList(){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.http.get(a.a.apiPrefix+b.A,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise(),t=[];for(const r of e)t.push({id:r.id,name:r.name,version:r.version,vendorType:r.vendorType,url:r.url});return t}))}addItem(e){const t=Object.assign({},e);return this.http.post(a.a.apiPrefix+b.A,t,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise().then(()=>Promise.resolve(),e=>Promise.reject(`HTTP ${e.status}: ${e.error.message}`))}editItem(e,t){return this.http.put(`${this.prefix}/${e}`,t).pipe(Object(s.a)(p))}removeItem(e){return Object(l.a)(this,void 0,void 0,(function*(){yield this.http.delete(a.a.apiPrefix+b.A+"/"+e,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise().then(()=>Promise.resolve(),e=>Promise.reject(""+e.message))}))}contributeResource(e){return Object(l.a)(this,void 0,void 0,(function*(){let t=null;return yield this.http.put(a.a.apiPrefix+"/resource/contribute/"+e,null,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise().then(e=>(t=e,Promise.resolve()),e=>Promise.reject(""+e.message)),t}))}activateResource(e){return Object(l.a)(this,void 0,void 0,(function*(){let t=null;return yield this.http.put(a.a.apiPrefix+"/resource/activate/"+e,null,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise().then(e=>(t=e,Promise.resolve()),e=>Promise.reject(""+e.message)),t}))}}return e.\u0275fac=function(t){return new(t||e)(c.Wb(d.a),c.Wb(u.a))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac}),e})();function p(e){return e}var h=r("LRne"),f=r("Te2O"),m=r("sYmb"),g=r("8MG2"),S=r("ofXK"),R=r("3Pt+");const y={VCD:"VCD",Others:"Others"},A=y.VCD;function O(e,t){if(1&e&&(c.Sb(0,"clr-alert",19),c.Sb(1,"clr-alert-item"),c.Sb(2,"div",20),c.Sb(3,"span"),c.Bc(4),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.dc();c.jc("clrAlertClosable",!1),c.Ab(4),c.Cc(e.vo.serverError)}}function j(e,t){if(1&e&&(c.Sb(0,"option",21),c.Bc(1),c.Rb()),2&e){const e=t.$implicit,r=c.dc();c.jc("ngValue",r.vendorTypes[e]),c.Ab(1),c.Dc(" ",e,"")}}const I=function(){return{}};function C(e,t){1&e&&(c.Sb(0,"span"),c.Bc(1),c.ec(2,"translate"),c.Rb()),2&e&&(c.Ab(1),c.Dc(" ",c.gc(2,1,"HOME.RESOURCE.DIALOG.SAVE",c.mc(4,I))," "))}function T(e,t){1&e&&(c.Sb(0,"span",22),c.Bc(1," Loading... "),c.Rb())}const B=function(){return{item:"name"}};let E=(()=>{class e{constructor(e,t,r){this.fb=e,this.translate=t,this.vendorService=r,this.opened=!1,this.save=new c.n,this.cancel=new c.n,this.vo={serverError:"",spinning:!1},this.vendorForm=this.fb.group({name:["",R.E.required],url:["",R.E.required],vendorType:[A,R.E.required],version:[""]}),this.vendorTypeList=Object.keys(y),this.vendorTypes=y}ngOnInit(){}onCancel(){this.close()}onSave(){return Object(l.a)(this,void 0,void 0,(function*(){const{value:e}=this.vendorForm;this.resetModal(),this.vo.spinning=!0,yield this.vendorService.addItem(e).then(()=>{this.save.emit(""),this.close(),this.vo.spinning=!1},e=>{this.vo.serverError=e,this.vo.spinning=!1})}))}close(){this.cancel.emit()}resetModal(){this.vo.serverError="",this.vo.spinning=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(R.f),c.Mb(m.e),c.Mb(v))},e.\u0275cmp=c.Gb({type:e,selectors:[["tide-vendor-dialog"]],inputs:{opened:"opened"},outputs:{save:"save",cancel:"cancel"},decls:33,vars:23,consts:[[3,"clrModalOpen","clrModalSize","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],["clrForm","",3,"formGroup"],["clrAlertType","danger",3,"clrAlertClosable",4,"ngIf"],["for","name"],["id","name","type","text","formControlName","name","clrInput","",1,"clr-col-12","clr-col-md-8",3,"placeholder"],["for","url"],["id","url","type","text","formControlName","url","clrInput","",1,"clr-col-12","clr-col-md-8",3,"placeholder"],["for","version"],["id","version","type","text","formControlName","version","clrInput","",1,"clr-col-12","clr-col-md-8",3,"placeholder"],["for","type"],["clrSelect","","id","vendorType","formControlName","vendorType",1,"clr-col-12","clr-col-md-8"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],["class","spinner spinner-sm",4,"ngIf"],["clrAlertType","danger",3,"clrAlertClosable"],[1,"alert-text"],[3,"ngValue"],[1,"spinner","spinner-sm"]],template:function(e,t){1&e&&(c.Sb(0,"clr-modal",0),c.ac("clrModalOpenChange",(function(e){return t.opened=e})),c.Sb(1,"h3",1),c.Bc(2," Add Vendor "),c.Rb(),c.Sb(3,"div",2),c.Sb(4,"form",3),c.zc(5,O,5,2,"clr-alert",4),c.Sb(6,"clr-input-container"),c.Sb(7,"label",5),c.Bc(8,"Name"),c.Rb(),c.Nb(9,"input",6),c.Rb(),c.Sb(10,"clr-input-container"),c.Sb(11,"label",7),c.Bc(12,"URL"),c.Rb(),c.Nb(13,"input",8),c.Rb(),c.Sb(14,"clr-input-container"),c.Sb(15,"label",9),c.Bc(16,"Version"),c.Rb(),c.Nb(17,"input",10),c.Rb(),c.Sb(18,"clr-select-container"),c.Sb(19,"label",11),c.Bc(20,"Type"),c.Rb(),c.Sb(21,"select",12),c.zc(22,j,2,2,"option",13),c.Rb(),c.Sb(23,"clr-control-error"),c.Bc(24),c.ec(25,"translate"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(26,"div",14),c.Sb(27,"button",15),c.ac("click",(function(){return t.onCancel()})),c.Bc(28),c.ec(29,"translate"),c.Rb(),c.Sb(30,"button",16),c.ac("click",(function(){return t.onSave()})),c.zc(31,C,3,5,"span",17),c.zc(32,T,2,0,"span",18),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.jc("clrModalOpen",t.opened)("clrModalSize","lg")("clrModalClosable",!1),c.Ab(4),c.jc("formGroup",t.vendorForm),c.Ab(1),c.jc("ngIf",t.vo.serverError),c.Ab(4),c.jc("placeholder","Vendor Name"),c.Ab(4),c.jc("placeholder","URL"),c.Ab(4),c.jc("placeholder","API Version"),c.Ab(5),c.jc("ngForOf",t.vendorTypeList),c.Ab(2),c.Cc(c.gc(25,15,"HOME.RESOURCE.DIALOG.REQUIRED",c.mc(21,B))),c.Ab(3),c.jc("disabled",t.vo.spinning),c.Ab(1),c.Dc(" ",c.gc(29,18,"HOME.RESOURCE.DIALOG.CANCEL",c.mc(22,I))," "),c.Ab(2),c.jc("disabled",!t.vendorForm.valid||t.vo.spinning),c.Ab(1),c.jc("ngIf",!t.vo.spinning),c.Ab(1),c.jc("ngIf",t.vo.spinning))},directives:[g.yb,g.zb,R.G,R.r,g.ib,R.k,S.v,g.sb,g.tb,R.c,R.q,R.i,g.rb,g.Ob,R.C,g.Nb,S.u,g.t,g.g,g.h,g.i,R.v,R.F],pipes:[m.d],styles:[""]}),e})();const w=function(){return{}};function P(e,t){if(1&e){const e=c.Tb();c.Sb(0,"clr-dg-row",6),c.Sb(1,"clr-dg-action-overflow"),c.Sb(2,"button",7),c.ac("click",(function(){c.sc(e);const r=t.$implicit;return c.dc(2).delete(null==r?null:r.id)})),c.Bc(3),c.ec(4,"translate"),c.Rb(),c.Rb(),c.Sb(5,"clr-dg-cell"),c.Sb(6,"div",8),c.Bc(7),c.Rb(),c.Rb(),c.Sb(8,"clr-dg-cell"),c.Sb(9,"div",8),c.Bc(10),c.Rb(),c.Rb(),c.Sb(11,"clr-dg-cell"),c.Sb(12,"div",8),c.Bc(13),c.Rb(),c.Rb(),c.Sb(14,"clr-dg-cell"),c.Sb(15,"div",8),c.Bc(16),c.Rb(),c.Rb(),c.Sb(17,"clr-dg-cell"),c.Sb(18,"div",8),c.Bc(19),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit;c.jc("clrDgItem",e),c.Ab(3),c.Cc(c.gc(4,7,"HOME.RESOURCE.CARD.FOOTER.DELETE",c.mc(10,w))),c.Ab(4),c.Cc(null==e?null:e.id),c.Ab(3),c.Cc(null==e?null:e.name),c.Ab(3),c.Cc(null==e?null:e.url),c.Ab(3),c.Cc(null==e?null:e.vendorType),c.Ab(3),c.Cc(null==e?null:e.version)}}function k(e,t){if(1&e&&(c.Sb(0,"div"),c.Sb(1,"clr-datagrid"),c.Sb(2,"clr-dg-column"),c.Sb(3,"div",4),c.Bc(4,"ID"),c.Rb(),c.Rb(),c.Sb(5,"clr-dg-column"),c.Sb(6,"div",4),c.Bc(7,"Vendor Name"),c.Rb(),c.Rb(),c.Sb(8,"clr-dg-column"),c.Sb(9,"div",4),c.Bc(10,"URL"),c.Rb(),c.Rb(),c.Sb(11,"clr-dg-column"),c.Sb(12,"div",4),c.Bc(13,"Type"),c.Rb(),c.Rb(),c.Sb(14,"clr-dg-column"),c.Sb(15,"div",4),c.Bc(16,"Version"),c.Rb(),c.Rb(),c.zc(17,P,20,11,"clr-dg-row",5),c.Rb(),c.Rb()),2&e){const e=t.ngIf;c.Ab(17),c.jc("clrDgItemsOf",e)}}function M(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tide-vendor-dialog",9),c.ac("save",(function(){return c.sc(e),c.dc().save()}))("cancel",(function(){return c.sc(e),c.dc().cancel()})),c.Rb()}if(2&e){const e=c.dc();c.jc("opened",e.opened)}}const x=[{path:"",component:o,children:[{path:"",component:(()=>{class e{constructor(e,t,r){this.vendorService=e,this.translate=t,this.loginService=r,this.vo={alertType:"",alertText:""},this.list$=Object(h.a)([]),this.opened=!1}delete(e){return Object(l.a)(this,void 0,void 0,(function*(){yield this.vendorService.removeItem(e).then(()=>{this.vo.alertText="Successfully delete vendor with id "+e,this.vo.alertType="success"},e=>{this.vo.alertType="danger",this.vo.alertText=e}).then(()=>{this.resetAlert()}),this.refreshList()}))}resetAlert(e){return Object(l.a)(this,void 0,void 0,(function*(){window.setTimeout(()=>{this.vo.alertText=""},e||f.b)}))}save(){return Object(l.a)(this,void 0,void 0,(function*(){yield this.refreshList()}))}cancel(){this.opened=!1}ngOnInit(){return Object(l.a)(this,void 0,void 0,(function*(){yield this.refreshList()}))}refreshList(){return Object(l.a)(this,void 0,void 0,(function*(){this.list$=Object(h.a)(yield this.vendorService.getList()),this.refreshInterval=window.setInterval(()=>Object(l.a)(this,void 0,void 0,(function*(){this.list$=Object(h.a)(yield this.vendorService.getList())})),f.e)}))}ngOnDestroy(){window.clearInterval(this.refreshInterval)}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(v),c.Mb(m.e),c.Mb(u.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["tide-vendor-list"]],decls:6,vars:4,consts:[[1,"btn","btn-primary",3,"click"],["shape","plus"],[4,"ngIf"],[3,"opened","save","cancel",4,"ngIf"],[1,"key"],[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[3,"clrDgItem"],[1,"btn","btn-sm","btn-link",3,"click"],[1,"value"],[3,"opened","save","cancel"]],template:function(e,t){1&e&&(c.Sb(0,"button",0),c.ac("click",(function(){return t.opened=!0})),c.Nb(1,"clr-icon",1),c.Bc(2," Add Vendor\n"),c.Rb(),c.zc(3,k,18,1,"div",2),c.ec(4,"async"),c.zc(5,M,1,1,"tide-vendor-dialog",3)),2&e&&(c.Ab(3),c.jc("ngIf",c.fc(4,2,t.list$)),c.Ab(2),c.jc("ngIf",t.opened))},directives:[g.kb,S.v,g.v,g.Xc,g.bd,g.cd,g.dd,g.z,g.Yc,g.K,g.P,g.Zc,g.x,g.y,g.ad,E],pipes:[S.b,m.d],styles:[""]}),e})()}]}],D=[v];let L=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[i.f.forChild(x)],i.f]}),e})(),z=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},providers:[...D],imports:[[n.a,L]]}),e})()}}]);
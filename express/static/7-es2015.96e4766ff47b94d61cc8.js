(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{ac4z:function(c,t,e){"use strict";e.r(t),e.d(t,"OrgModule",(function(){return U}));var n=e("pk6O"),r=e("tyNb"),i=e("fXoL");let b=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=i.Gb({type:c,selectors:[["tide-org"]],decls:2,vars:0,consts:[[1,"content-area"]],template:function(c,t){1&c&&(i.Sb(0,"div",0),i.Nb(1,"router-outlet"),i.Rb())},directives:[r.g],styles:[""]}),c})();var l=e("mrSG"),o=e("AytR"),s=e("xP43"),a=e("5hqZ"),d=e("tk/3"),u=e("XNvx");let v=(()=>{class c{constructor(c,t){this.http=c,this.loginService=t}getOrgList(){return Object(l.a)(this,void 0,void 0,(function*(){const c=yield this.http.get(o.a.apiPrefix+s.e,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise(),t=[];for(const e of c){const c={id:e.id,name:e.name,currentCPU:e.currentCPU?e.currentCPU:0,totalCPU:e.totalCPU?e.totalCPU:0,currentRAM:e.currentRAM?e.currentRAM:0,totalRAM:e.totalRAM?e.totalRAM:0,currentDisk:e.currentDisk?e.currentDisk:0,totalDisk:e.totalDisk?e.totalDisk:0,percentCPU:e.totalCPU&&e.currentCPU&&0!==e.totalCPU?Object(a.a)(100*e.currentCPU/e.totalCPU,2):0,percentRAM:e.totalRAM&&e.currentRAM&&0!==e.totalRAM?Object(a.a)(100*e.currentRAM/e.totalRAM,2):0,percentDisk:e.totalDisk&&e.currentDisk&&0!==e.totalDisk?Object(a.a)(100*e.currentDisk/e.totalDisk,2):0};t.push(c)}return t}))}addItem(c){const t=Object.assign({},c);return this.http.post(o.a.apiPrefix+s.e,t,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise().then(()=>Promise.resolve(),c=>Promise.reject(`HTTP ${c.status}: ${c.error.message}`))}removeItem(c){return Object(l.a)(this,void 0,void 0,(function*(){yield this.http.delete(o.a.apiPrefix+s.e+"/"+c,{headers:{Authorization:"Bearer "+this.loginService.token}}).toPromise().then(()=>Promise.resolve(),c=>Promise.reject(""+c.message))}))}}return c.\u0275fac=function(t){return new(t||c)(i.Wb(d.a),i.Wb(u.a))},c.\u0275prov=i.Ib({token:c,factory:c.\u0275fac}),c})();var g=e("Te2O"),h=e("LRne"),p=e("sYmb");const f=function(){return{}};function m(c,t){if(1&c){const c=i.Tb();i.Sb(0,"clr-dg-row",6),i.Sb(1,"clr-dg-action-overflow"),i.Sb(2,"button",7),i.ac("click",(function(){i.sc(c);const e=t.$implicit;return i.dc(2).delete(null==e?null:e.id)})),i.Bc(3),i.ec(4,"translate"),i.Rb(),i.Rb(),i.Sb(5,"clr-dg-cell"),i.Sb(6,"div",8),i.Bc(7),i.Rb(),i.Rb(),i.Sb(8,"clr-dg-cell"),i.Sb(9,"div",8),i.Bc(10),i.Rb(),i.Rb(),i.Sb(11,"clr-dg-cell"),i.Sb(12,"div",8),i.Bc(13),i.Rb(),i.Rb(),i.Sb(14,"clr-dg-cell"),i.Sb(15,"div",8),i.Bc(16),i.Rb(),i.Rb(),i.Sb(17,"clr-dg-cell"),i.Sb(18,"div",8),i.Bc(19),i.Rb(),i.Rb(),i.Sb(20,"clr-dg-cell"),i.Sb(21,"div",8),i.Bc(22),i.Rb(),i.Rb(),i.Sb(23,"clr-dg-cell"),i.Sb(24,"div",8),i.Bc(25),i.Rb(),i.Rb(),i.Sb(26,"clr-dg-cell"),i.Sb(27,"div",8),i.Bc(28),i.Rb(),i.Rb(),i.Rb()}if(2&c){const c=t.$implicit;i.jc("clrDgItem",c),i.Ab(3),i.Cc(i.gc(4,13,"HOME.ORGNIZATION.DELETE",i.mc(16,f))),i.Ab(4),i.Cc(null==c?null:c.id),i.Ab(3),i.Cc(null==c?null:c.name),i.Ab(3),i.Dc("",null==c?null:c.totalCPU," GHz"),i.Ab(3),i.Dc("",null==c?null:c.totalRAM," GB"),i.Ab(3),i.Dc("",null==c?null:c.totalDisk," GB"),i.Ab(3),i.Ec("",null==c?null:c.currentCPU,"GHz (",null==c?null:c.percentCPU,"%)"),i.Ab(3),i.Ec("",null==c?null:c.currentRAM,"GB (",null==c?null:c.percentRAM,"%)"),i.Ab(3),i.Ec("",null==c?null:c.currentDisk,"GB (",null==c?null:c.percentDisk,"%)")}}function R(c,t){if(1&c&&(i.Sb(0,"div"),i.Sb(1,"clr-datagrid"),i.Sb(2,"clr-dg-column"),i.Sb(3,"div",4),i.Bc(4,"ID"),i.Rb(),i.Rb(),i.Sb(5,"clr-dg-column"),i.Sb(6,"div",4),i.Bc(7,"Org Name"),i.Rb(),i.Rb(),i.Sb(8,"clr-dg-column"),i.Sb(9,"div",4),i.Bc(10,"Total CPU"),i.Rb(),i.Rb(),i.Sb(11,"clr-dg-column"),i.Sb(12,"div",4),i.Bc(13,"Total Memory"),i.Rb(),i.Rb(),i.Sb(14,"clr-dg-column"),i.Sb(15,"div",4),i.Bc(16,"Total Disk"),i.Rb(),i.Rb(),i.Sb(17,"clr-dg-column"),i.Sb(18,"div",4),i.Bc(19,"CPU Usage"),i.Rb(),i.Rb(),i.Sb(20,"clr-dg-column"),i.Sb(21,"div",4),i.Bc(22,"Memory Usage"),i.Rb(),i.Rb(),i.Sb(23,"clr-dg-column"),i.Sb(24,"div",4),i.Bc(25,"Disk Usage"),i.Rb(),i.Rb(),i.zc(26,m,29,17,"clr-dg-row",5),i.Rb(),i.Rb()),2&c){const c=t.ngIf;i.Ab(26),i.jc("clrDgItemsOf",c)}}function S(c,t){if(1&c){const c=i.Tb();i.Sb(0,"tide-org-dialog",9),i.ac("save",(function(){return i.sc(c),i.dc().save()}))("cancel",(function(){return i.sc(c),i.dc().cancel()})),i.Rb()}if(2&c){const c=i.dc();i.jc("opened",c.opened)}}let A=(()=>{class c{constructor(c,t,e){this.orgService=c,this.translate=t,this.loginService=e,this.vo={alertType:"",alertText:""},this.list$=Object(h.a)([]),this.opened=!1}delete(c){return Object(l.a)(this,void 0,void 0,(function*(){yield this.orgService.removeItem(c).then(()=>{this.vo.alertText="Successfully delete Orgnization with id "+c,this.vo.alertType="success"},c=>{this.vo.alertType="danger",this.vo.alertText=c}).then(()=>{this.resetAlert()}),this.refreshList()}))}resetAlert(c){return Object(l.a)(this,void 0,void 0,(function*(){window.setTimeout(()=>{this.vo.alertText=""},c||g.b)}))}save(){return Object(l.a)(this,void 0,void 0,(function*(){yield this.refreshList()}))}cancel(){this.opened=!1}ngOnInit(){return Object(l.a)(this,void 0,void 0,(function*(){yield this.refreshList()}))}refreshList(){return Object(l.a)(this,void 0,void 0,(function*(){this.list$=Object(h.a)(yield this.orgService.getOrgList()),this.refreshInterval=window.setInterval(()=>Object(l.a)(this,void 0,void 0,(function*(){this.list$=Object(h.a)(yield this.orgService.getOrgList())})),g.e)}))}ngOnDestroy(){window.clearInterval(this.refreshInterval)}}return c.\u0275fac=function(t){return new(t||c)(i.Mb(v),i.Mb(p.e),i.Mb(u.a))},c.\u0275cmp=i.Gb({type:c,selectors:[["tide-org-list"]],decls:7,vars:9,consts:[[1,"btn","btn-primary",3,"click"],["shape","plus"],[4,"ngIf"],[3,"opened","save","cancel",4,"ngIf"],[1,"key"],[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[3,"clrDgItem"],[1,"btn","btn-sm","btn-link",3,"click"],[1,"value"],[3,"opened","save","cancel"]],template:function(c,t){1&c&&(i.Sb(0,"button",0),i.ac("click",(function(){return t.opened=!0})),i.Nb(1,"clr-icon",1),i.Bc(2),i.ec(3,"translate"),i.Rb(),i.zc(4,R,27,1,"div",2),i.ec(5,"async"),i.zc(6,S,1,1,"tide-org-dialog",3)),2&c&&(i.Ab(2),i.Dc(" ",i.gc(3,3,"HOME.ORGNIZATION.ADD_ORGNIZATION",i.mc(8,f))," "),i.Ab(2),i.jc("ngIf",i.fc(5,6,t.list$)),i.Ab(2),i.jc("ngIf",t.opened))},styles:[""]}),c})();var O=e("3Pt+"),I=e("8MG2"),M=e("ofXK");function D(c,t){if(1&c&&(i.Sb(0,"clr-alert",12),i.Sb(1,"clr-alert-item"),i.Sb(2,"div",13),i.Sb(3,"span"),i.Bc(4),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&c){const c=i.dc();i.jc("clrAlertClosable",!1),i.Ab(4),i.Cc(c.vo.serverError)}}const y=function(){return{}};function C(c,t){1&c&&(i.Sb(0,"span"),i.Bc(1),i.ec(2,"translate"),i.Rb()),2&c&&(i.Ab(1),i.Dc(" ",i.gc(2,1,"HOME.RESOURCE.DIALOG.SAVE",i.mc(4,y))," "))}function k(c,t){1&c&&(i.Sb(0,"span",14),i.Bc(1," Loading... "),i.Rb())}let B=(()=>{class c{constructor(c,t,e,n){this.fb=c,this.translate=t,this.orgService=e,this.orgList=n,this.opened=!1,this.save=new i.n,this.cancel=new i.n,this.vo={serverError:"",spinning:!1},this.orgForm=this.fb.group({name:["",O.E.required]})}ngOnInit(){}onCancel(){this.close()}onSave(){return Object(l.a)(this,void 0,void 0,(function*(){const{value:c}=this.orgForm;this.resetModal(),this.vo.spinning=!0,yield this.orgService.addItem(c).then(()=>{this.save.emit(""),this.close(),this.vo.spinning=!1},c=>{this.vo.serverError=c,this.vo.spinning=!1})}))}close(){this.cancel.emit()}resetModal(){this.vo.serverError="",this.vo.spinning=!1}}return c.\u0275fac=function(t){return new(t||c)(i.Mb(O.f),i.Mb(p.e),i.Mb(v),i.Mb(A))},c.\u0275cmp=i.Gb({type:c,selectors:[["tide-org-dialog"]],inputs:{opened:"opened"},outputs:{save:"save",cancel:"cancel"},decls:20,vars:29,consts:[[3,"clrModalOpen","clrModalSize","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],["clrForm","",3,"formGroup"],["clrAlertType","danger",3,"clrAlertClosable",4,"ngIf"],["for","name"],["id","name","type","text","formControlName","name","clrInput","",1,"clr-col-12","clr-col-md-8",3,"placeholder"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],["class","spinner spinner-sm",4,"ngIf"],["clrAlertType","danger",3,"clrAlertClosable"],[1,"alert-text"],[1,"spinner","spinner-sm"]],template:function(c,t){1&c&&(i.Sb(0,"clr-modal",0),i.ac("clrModalOpenChange",(function(c){return t.opened=c})),i.Sb(1,"h3",1),i.Bc(2),i.ec(3,"translate"),i.Rb(),i.Sb(4,"div",2),i.Sb(5,"form",3),i.zc(6,D,5,2,"clr-alert",4),i.Sb(7,"clr-input-container"),i.Sb(8,"label",5),i.Bc(9),i.ec(10,"translate"),i.Rb(),i.Nb(11,"input",6),i.ec(12,"translate"),i.Rb(),i.Rb(),i.Rb(),i.Sb(13,"div",7),i.Sb(14,"button",8),i.ac("click",(function(){return t.onCancel()})),i.Bc(15),i.ec(16,"translate"),i.Rb(),i.Sb(17,"button",9),i.ac("click",(function(){return t.onSave()})),i.zc(18,C,3,5,"span",10),i.zc(19,k,2,0,"span",11),i.Rb(),i.Rb(),i.Rb()),2&c&&(i.jc("clrModalOpen",t.opened)("clrModalSize","lg")("clrModalClosable",!1),i.Ab(2),i.Dc(" ",i.gc(3,13,"HOME.ORGNIZATION.ADD_ORGNIZATION",i.mc(25,y))," "),i.Ab(3),i.jc("formGroup",t.orgForm),i.Ab(1),i.jc("ngIf",t.vo.serverError),i.Ab(3),i.Cc(i.gc(10,16,"HOME.ORGNIZATION.DIALOG.NAME",i.mc(26,y))),i.Ab(2),i.jc("placeholder",i.gc(12,19,"HOME.ORGNIZATION.DIALOG.NAME_PLACEHOLDER",i.mc(27,y))),i.Ab(3),i.jc("disabled",t.vo.spinning),i.Ab(1),i.Dc(" ",i.gc(16,22,"HOME.RESOURCE.DIALOG.CANCEL",i.mc(28,y))," "),i.Ab(2),i.jc("disabled",!t.orgForm.valid||t.vo.spinning),i.Ab(1),i.jc("ngIf",!t.vo.spinning),i.Ab(1),i.jc("ngIf",t.vo.spinning))},directives:[I.yb,I.zb,O.G,O.r,I.ib,O.k,M.v,I.sb,I.tb,O.c,O.q,O.i,I.rb,I.g,I.h,I.i],pipes:[p.d],styles:[""]}),c})();const j=[{path:"",component:b,children:[{path:"",component:A}]}],E=[v];let P=(()=>{class c{}return c.\u0275mod=i.Kb({type:c}),c.\u0275inj=i.Jb({factory:function(t){return new(t||c)},imports:[[r.f.forChild(j)],r.f]}),c})();var G=e("30Bq"),w=e("Bgc3"),T=e("oBHS"),N=e("gMiC");let U=(()=>{class c{}return c.\u0275mod=i.Kb({type:c}),c.\u0275inj=i.Jb({factory:function(t){return new(t||c)},providers:[...E],imports:[[n.a,P]]}),c})();i.uc(A,[M.s,M.t,M.u,M.v,M.C,M.y,M.z,M.A,M.B,M.w,M.x,r.g,r.c,r.e,r.d,r.h,O.G,O.v,O.F,O.c,O.w,O.z,O.a,O.C,O.D,O.y,O.q,O.r,O.B,O.o,O.n,O.x,O.b,O.d,O.t,O.u,O.s,O.h,O.k,O.i,O.l,O.e,I.g,I.h,I.j,I.k,I.i,I.v,I.w,I.x,I.z,I.A,I.B,I.J,I.H,I.K,I.L,I.P,I.Q,I.Tc,I.y,I.I,I.N,I.M,I.O,I.C,I.D,I.E,I.mb,I.G,I.F,I.Uc,I.Vc,I.Wc,I.Xc,I.Yc,I.Zc,I.ad,I.bd,I.cd,I.dd,I.Nc,I.Mc,I.Yb,I.Vb,I.Tb,I.Ub,I.Zb,I.Wb,I.Xb,I.sc,I.tc,I.Mb,I.uc,I.kb,I.yb,I.zb,I.hb,I.vb,I.lb,I.qb,I.pb,I.Sc,I.wb,I.l,I.m,I.tb,I.t,I.u,I.ob,I.ib,I.ub,I.s,I.r,I.o,I.p,I.q,I.X,I.U,I.V,I.W,I.Ab,I.Lc,I.Y,I.n,I.rb,I.sb,I.Cb,I.Db,I.Hb,I.Ib,I.Jb,I.Nb,I.Ob,I.ic,I.jc,I.Kb,I.Lb,I.R,I.T,I.S,I.xb,I.jb,I.Bb,I.Pc,I.Oc,I.ec,I.dc,I.hc,I.gc,I.fc,I.ed,I.fd,I.vc,I.zc,I.wc,I.xc,I.yc,I.cb,I.eb,I.fb,I.db,I.Pb,I.Qb,I.Rb,I.pc,I.rc,I.qc,I.Ac,I.Ec,I.Jc,I.Kc,I.Bc,I.Dc,I.Cc,I.Ic,I.Hc,I.Fc,I.Gc,I.ab,I.gb,I.nb,I.Z,I.bb,I.bc,I.ac,I.cc,I.id,I.jd,I.b,I.e,I.f,I.d,I.c,I.gd,I.hd,I.Sb,I.Gb,I.Eb,I.Qc,I.Rc,I.Fb,I.kc,I.lc,I.mc,I.nc,I.oc,G.a,p.a,w.a,b,A,B],[M.b,M.J,M.r,M.m,M.G,M.g,M.E,M.H,M.d,M.f,M.k,M.l,M.n,p.d,T.a,N.a]),i.uc(A,[M.s,M.t,M.u,M.v,M.C,M.y,M.z,M.A,M.B,M.w,M.x,r.g,r.c,r.e,r.d,r.h,O.G,O.v,O.F,O.c,O.w,O.z,O.a,O.C,O.D,O.y,O.q,O.r,O.B,O.o,O.n,O.x,O.b,O.d,O.t,O.u,O.s,O.h,O.k,O.i,O.l,O.e,I.g,I.h,I.j,I.k,I.i,I.v,I.w,I.x,I.z,I.A,I.B,I.J,I.H,I.K,I.L,I.P,I.Q,I.Tc,I.y,I.I,I.N,I.M,I.O,I.C,I.D,I.E,I.mb,I.G,I.F,I.Uc,I.Vc,I.Wc,I.Xc,I.Yc,I.Zc,I.ad,I.bd,I.cd,I.dd,I.Nc,I.Mc,I.Yb,I.Vb,I.Tb,I.Ub,I.Zb,I.Wb,I.Xb,I.sc,I.tc,I.Mb,I.uc,I.kb,I.yb,I.zb,I.hb,I.vb,I.lb,I.qb,I.pb,I.Sc,I.wb,I.l,I.m,I.tb,I.t,I.u,I.ob,I.ib,I.ub,I.s,I.r,I.o,I.p,I.q,I.X,I.U,I.V,I.W,I.Ab,I.Lc,I.Y,I.n,I.rb,I.sb,I.Cb,I.Db,I.Hb,I.Ib,I.Jb,I.Nb,I.Ob,I.ic,I.jc,I.Kb,I.Lb,I.R,I.T,I.S,I.xb,I.jb,I.Bb,I.Pc,I.Oc,I.ec,I.dc,I.hc,I.gc,I.fc,I.ed,I.fd,I.vc,I.zc,I.wc,I.xc,I.yc,I.cb,I.eb,I.fb,I.db,I.Pb,I.Qb,I.Rb,I.pc,I.rc,I.qc,I.Ac,I.Ec,I.Jc,I.Kc,I.Bc,I.Dc,I.Cc,I.Ic,I.Hc,I.Fc,I.Gc,I.ab,I.gb,I.nb,I.Z,I.bb,I.bc,I.ac,I.cc,I.id,I.jd,I.b,I.e,I.f,I.d,I.c,I.gd,I.hd,I.Sb,I.Gb,I.Eb,I.Qc,I.Rc,I.Fb,I.kc,I.lc,I.mc,I.nc,I.oc,G.a,p.a,w.a,b,A,B],[M.b,M.J,M.r,M.m,M.G,M.g,M.E,M.H,M.d,M.f,M.k,M.l,M.n,p.d,T.a,N.a])}}]);